==== 1.10.0.2 ====

=== Major Highlights ===
Ogone module added back into release

==== 1.10.0.1 ====

=== Major Highlights ===
Due to a design flaw we are removing alternative image storage feature from this release. It will be redesigned and released in our upcoming releases.

==== 1.10.0.0 ====

=== Major Highlights ===
Gift Wrapping functionality
Added Payflow Link using HSS (Hosted Sole Solution) 
Balance Response, Partial Authorization Transactions, Authorization Reversals Support for MasterCard and Discover with Authorize.net
3D Secure Authentication for Authorize.net payment method
Authorize.Net SIM payment method
Improved Import/Export functionality
Ability to order composite products from backend including:
- reconfigure already added products on front end
- adding preconfigured products in wish-list
Alternative media storage options
- Database
- CDN
Order status management
- ability to add new status and assign to some state
- statuses now stored in DB table instead of configuration file
Ability to edit order addresses for an existing order
- this functionality admin has link to edit address for order view page
Magento Mobile included in base packaging

=== Improvements ===
Implemented Environment emulation in core email class
- Added Emulation model.
- Added Email Info and Email Template Mailer models.
- Re-factored sendEmail() and sendUpdateEmail() methods of order, credit memo, invoice and shipment models.
Added App Previewer for Android and iPad in XmlConenect
Upgraded Zend Framework to 1.11.0
Implemented new process of hashing parameters in Ogone payment method
- implemented an advanced hashing method that invokes all transaction parameters for building security hash
- updated fields sort order in system configuration
- added the new parameter which designates whether to use the old or advanced hashing method
- made SHA-IN and SHA-OUT sys config parameter titles corresponding to parameter titles on merchant site in Ogone
- major refactoring of the Ogone helper: simplified public interface of hash validation, added support for SHA-1, SHA-256 and SHA-512 algorithms (not selectable in system config)
- optimized performance of debugging and building redirect form: removed 2 excessive calls (one from template, another from debugging - it invoked form building even if debugging was disabled)
- since the form is built from a block, prevented injecting SID parameter to URLs when building form
- added HTML escaping in the template hidden fields
- added new system configuration parameter - hashing algorithm
- verified/fixed all API hashing parameters in accordance to documentation v.5.0
Fixed several memory leaks in product model. Added tool method clear() to clean object data and references to this object
Implemented Order payment action for PayPal
Implemented SOAP Api calls for shopping cart
Upgraded Zend Framework to 1.11.1
Phoenix_Moneybookers improvements:
- updated payment logo images
- added "Maestro" and "Online Bank Transfer" payment methods into Moneybookers group
- wrapped Moneybookers payment logo title and alt text on payment selection text into translation calls

=== Changes ===
Paypal HSS payment method label, comment and default title

=== Fixes ===
Fixed Gift card account totals rounding failure
Fixed 404 Error Page returns 200 OK instead of 404 Not Found when the Full Page Cache is enabled
- implemented saving and restoring the response headers
Fixed Added transferring of last four digits of credit card number to give possibility refund authorize transactions.
Fixed Problem with admin roles
Fixed Removed incorrect cache disabling logic on absent SID value
Fixed CMS can't create Hierarchy Node Link widget in IE8
Fixed Any operation with Recurring Profile does not logged in Admin Action Log.
- Added logging for recurring profiles actions
Fixed New added required attribute should be filled in by customer before checkout
Fixed Reward points are used in Admin order creation if balance less then settled Minimum Reward Points Balance to be able to Redeem
Fixed Archived orders not displayed in customer's orders list
Fixed "Result Limit" in Rule-Based Product relations rules is not being honored
Fixed Reward expiration dates date and month confusion
Fixed Report > Products Ordered ignores Store view switcher
Fixed Unable to create Gift Registry with "Date" attribute ("Full"/"Long" date format)
Fixed Invitation link has a session ID parameter
Fixed Changing the root category for a store doesn't work correctly
- Added FPS cleaning after store saving
Fixed Virtual Giftcard account can't be created by any other user role except admin
Fixed Inline Translation - Pages View Issue
- move cache types list in config
Fixed Shop By index range is build based on Excl. Tax value, but filter products in catalog based on Incl tax value. filter works incorrect
- it was problem with facets calculation, when we use Solr
Fixed Admin unable to uninstall payment method without editing config
- Code review fixes
- getMethodInstance method was rewrote
- Added instance check in some payment models according to this
Fixed Solr wrong attribute "is filterable in search" flag for layered navigation search results
Fixed Wishlist item - clicking on link to download custom option file results in 404
Fixed Reward points calculated incorrectly
Fixed Added design exception caching and processing by FullPageCache.
Fixed Added items to the Wishlist in the "Manage Shopping Cart" are not shown
Fixed "Select All" checkbox is present on a product grid in ManageShopping Cart area in backend
Fixed Backend: Banner Rotator Widget - impossible to set positions for banners
Fixed No Gift Registry menu subitem on Customers menu in backend
Fixed Can't save customer attribute in front-end
Fixed The options in the action dropdown for export are incorrectly labeled in the Sales section
Fixed Checking if main entity exists was added before save objects attributes (to prevent foreign key error in case of two users were logged in under one account in the same time).
Fixed Gift card account brute force protection shows misleading messages
Fixed Order can be placed with non-configured composite product in Ordered Items
Fixed After customer purchases several Gift Card products and the order is invoiced, a number of gift card accounts is created with the same gift card code
- created gift account codes are saved in static variable for consecutive saves
Fixed Gift Option block showed if GW disabled
Fixed Problem with Order totals count, when creating Order with Gift Wrapping in backend
Fixed Invoice and Creditmemo create/view pages don't display information about gift wrapping options for items
Fixed advanced search for solr was fixed
- was added possibility to add to from-to condition value with zero
Fixed When Allow Gift Wrapping for Order Items in Confyg set to "No" and Gift Wrapping in a product Menu Gift Options set to "Yes" than Gift Wrapping during checkout is not available.
- changes, caused product-level settings priority
- little visual fixes
Fixed Price for Gift Wrapping in a product Menu not applies when placing order
Fixed Gift Wrapping/Printed Cards Prices displaying style is not applied during the checkout process
Fixed Wrong algorithm to determine whether product can be configured (Composite Products feature)
Fixed Gift Registry IDOR Vulnerabilities
- marked deprecated methods;
- fixed adding wishlist items to gift registry;
- fixed php docs.
Fixed Unable to save "Date of Birth" field in account information
- transform  attributes: dob, taxvat, gender to user defined attributes, in EE.
Fixed "Allow Gift Wrapping on Order Level" assigned for Website scope doesn't work, settings from "Default Config" scope is used instead
Fixed Empty image is shown while checkout for gift wrapping without any image
Fixed Menu "Catalog-Manage Products-Gift Options" have incorrect design and wrong position in menu list:
- Enterprise_GiftWrapping module changes.
Fixed Gift Wrapping and Printed Card always shows Incl.Tax and Excl. Tax in Order, Invoice and Credit Memo Totals in BackEnd.
- only default tax settings are applicable on backend. Per-store settings are to be ignored.
Fixed No ability to add Gift Receipt or Printed Card to Order when Gift Message and Gift Wrapping is disabled
Fixed Wrong usage of @see tag in phpdocs
- replaced @see into @link phpdocs in cases where the value is a link
Fixed Price for Gift Wrapping and Printed Card not applying when Backend order creating
Fixed Firefox iframe issue
Fixed Refunded to Store Credit amount is less than Grand total with Gift Wrapping
- consider gift wrapping amount at Grand Total on refund
- consider gift wrapping options taxes
Fixed Link Gift Options exists for Items Ordered when Messages and Wrapping not allows for Order Items
Fixed Link "Gift Options" is not shown in Items Ordered grid of create Order page, when "Allow Gift Messages for Order Items" is set to "No"
- considering design html at right place
- removed useless variable from observer
Fixed Link "configure" is inactive for downloadable products in product grid on Order creation page in backend
- also fixed "Manage Customer" grids + Manage Shopping Cart (Enterprise Checkout) grids
Fixed Solr does not seek anything, search is going over mysql full text instead of solr
- corrected condition for getLayer method for search (considering of tax influence removed)
Fixed Gift Options tab is present on product page for virtual product types
Fixed Dropdown for Gift Wrapping selection should not be shown in case when no Gift Wrappings is created
Fixed Tax Class in not applied to Gift Options during the process of Multipple Addresses checkout when using different shipping addresses
Fixed Information about Gift Options is not stored, when admin user performs Edit Order action in backend
Fixed Files cannot be uploaded in Enterprise - Manage Shopping Cart at admin backend
- Reworked file uploading and validating scheme to be more clear and easily extended.
- Fixed main issue problem (Files cannot be uploaded in Enterprise - Manage Shopping Cart at admin backend)
- Fixed issue with GiftRegistry item returning null sometimes instead of Varien_Object. It's done to conform same methods in Wishlist and Quote.
- Updated creating new order at backend to fit new file uploading scheme
- Added cleaning of buyRequest from temporary file processing parameters
- Fixed frontend updating of cart item to operate on quote item, not on product
- removed unicode-extended symbols in variable names in sales.js
Fixed Wrong visualization of tax in admin order creation
Fixed Deleted Gift Registry shows incorrect page and error
Fixed gift options are not visible in the gift options panel while admin order review
Fixed Search results are narrowed to 1 if View all Show option is chosen.
- considering only presetted _pageSize for product collection. If not set - use default value
Fixed Cross-sells products disappears after adding another products to shopping cart
Fixed useless config fields visible for solr search engine on website and store scope
- Fix related with: Search Recommendations still shown even Search Engine is not set to "Solr"
Fixed Already configured composite product cannot be added to Gift Registry from Wishlist without reconfiguration
Fixed Reset button is present in any already created Gift Wrappings
Fixed Third party search: invalidate index after creating new customer group
- invalidate catalog search index after creation of new customer group or changing tax class for existing
Fixed Printed Cards price fields are empty when Printed Cards price is not assigned
Fixed Incorrect behavior of Gift Options, specified on a product level
Fixed When in the product edit menu selected checkbox "Use Config settings" for "Allow Gift Wrapping" option, than "Allow Gift Wrapping" always set to No
- create new renderers for these product's eav attributes (code frontend_input_renderer)
Fixed Double usage of Gift Card account
- balace reducing of giftcard, reward points and store credit amounts brought out from transaction, they reverts if order was not placed in some reasone
- same logic for multishipping, first all orders reserve specified amounts and store them, if exception appears - orders revert stored amounts to appropriate entity balance
- time when other order amount balance check can retrieve not actual value reduced in 5 degree and more with usage of 3-rd party payment systems
- modified sort order for rewird points and store credit history - first sorting by creation/update time, than by id
Fixed Qty for simple products (part of grouped) which is moved from order to Wishlist is incorrect
- Fixed qty for simple products
- Changes getBuyRequest() methods in all corresponding places to return original qty for similar interface
- Fixed legacy code style issues
Fixed Customer Attribute is not saved correctly, Forms to Use In selection list is cleared
Fixed Abandoned Cart Reminder doesn't match customers
- now comparing value with date start and end timestamps
- modified condition for exactly specified day
Fixed Price for composite products in a products grid on Order creation page
Fixed "Configure" link in Product grid (backend) does not work (only IE)
Fixed Changes visibility doesn't touch Solr index correctly
- modified preparation of catalog search fulltext if using third party engine to allow index products with visibility "Catalog" (value 2).
- fixed cleanIndex() method, unique key correct construction
Fixed Moving composite products from shopping cart to wishlist does not work
- fixed error handling - added catching and processing, so in case of errors only item with error will not be moved
- fixed wishlist items to get right storeId (by passing product, and not productId)
Fixed Order Payment is subtracted twice from Gift Cards while Order editing
- added event order_cancel_after
- returning funds to reqard points and to store credit from giftcard if they were used in canceling order
Fixed Security vulnerability in GiftWrapping module
Fixed User cannot place order using Paypal payment methods with 3d secure
Fixed Conditions in *Customer segment* rule builds wrong queries for *ANY* predicate.
Fixed Added valid transaction_id setting to invoice by Pbridge Authorize.net method
Fixed Simple products not visible individual (part of grouped) are moved to Wishlist
Fixed Fatal error after deleting one of the shipping addresses during checkout with multiple addresses
Fixed TargetRule: Problem with "Integrity constraint violation"
- overwrite record in DB if such exists with flag value 0
Fixed Deactivated products are not reindexed by Solr
- modified cleanIndex method for compatibility with mass products status change from backend
Fixed Impossible to configure composite product in a Wislist/Last Ordered Items grid of Manage Shopping Cart area
- added 'price' class to all accordion lists price columns
- fixed 'last ordered' list to show initial product price as all other lists do
- fixed js to react right on empty price cell 
- fixed wrong 'c' symbol in js, that resulted in wrong logic after 'Cancel' button press
Fixed User cannot place order using Paypal payment methods with 3d secure
Fixed iPhone product list preview
Fixed App locations (countries) do not match iTunes App Stores countries available
Fixed Added parent quote items to discount calculation to prevent skipping of configurable products.
Fixed Rounding issue on front end if discount with fixed amount is applied and no tax rules applies to the order.
- added rounding item discount before take away from total discount
Fixed Fatal error after deleting one of the shipping addresses during checkout with multiple addresses
Fixed Merged CSS files with selected native Database as media storage are not applied with Chrome and FF
- first trying to detect MIME type manually, and only after by native php function
Fixed The buttons "Accept Payment" and "Deny Payment" do not appear in orders with status 'Payment Review'
Fixed issue when Simple products not visible individually (part of grouped) are moved to Wishlist
Fixed Impossible to delete product from Items Ordered (backend Order creation) using "remove" in Action dropdown
Fixed Fatal error after deleting one of the shipping addresses during checkout with multiple addresses
Fixed Qty for simple products (part of grouped) is incorrect when moved from order to Wishlist
- additional fixture for other testcase
Fixed Grouped product is added to Items Ordered as grouped, when any of buttons in sideblocks is pressed after product configuration in a product grid (backend Order creation)
- prevent to add unconfigured grouped product on server side
- in sales.js, do productConfigure.clean('quote_items') only if "Items Ordered" block is going to update
- in sales.js, hide "Search" block only when product added to qoute from "Search" block
- in configure.js, added ability to cleaning by list type scope
Fixed Incorrect behavior of Partial Authorization process, when admin user cancels authorizations (Authorize.net)
- added reloading block 'totals' after canceling partial authorization
Fixed Google Checkout Issue - Transactions not appearing
- adding transaction (transaction id = google order id) for googlecheckout payment
- fixed usage of Mage_GoogleCheckout_Model_Api_Xml_Callback::_getTaxClassForShipping() method according to it's interface
- fixed usage of Mage_GoogleCheckout_Model_Api_Xml_Abstract::_getTaxClassForShipping() method according to it's interface
- creating transactions for refund and chargeback
Fixed Missed index on sales.order table
Fixed Price for composite products in a products grid on Order creation page
Fixed Status of Order is now doesn't ignore the setting in Config for AUTH_AND_CAPTURE orders.
Fixed Unable to install extension using MCM for CE
Fixed Rounding error
Fixed Preview iFrame of iPhone recieve error message
- wrap images manipulations with try-catch (in controller)
- alert the catched error message when preview is loaded
Fixed Most product attibutes not exporting
Fixed Removed error message on new orders payd by PayflowLink with "complete" status (like on virtual products)
Fixed Behavior when customer changes billing/shipping address and/or changes items in cart, etc having started Partial Authorization
- added chopping cart`s and address checksum checking for partial authorization process
Fixed Moving composite products from shopping cart to wishlist does not work
- fixed error handling - added catching and processing, so in case of errors only item with error will not be moved
- fixed wishlist items to get right storeId (by passing product, and not productId)
Fixed Rounding issue (1 cent) appears on Tax Calculation Method Based On = Row
Fixed category/product image resizing
- Image sizes for Ipad has been changed
- Re-Factored: Application model call has been changed to helper method for all old calls
Fixed Only check money payment at standard chechout process receive success
Fixed Edit fonts configuration for iPad
Added iPad preview should illustrate tabs' state.
- Made separate icons
- Active/inactive logic added
- Added custom fonts for rating color customization
- Fixed positions for the icons
- Removed icons labels
- "i"-icon should always be on screen (currently it becomes hidden after making "information"-tab inactive)
Fixed Review collection need to sort with the latest added review
Fixed XML Connect - Incorrect help link in Push Notification page
Fixed API Certificate Based Authentication Used default signature value instead of the Certificate value
Fixed XML Connect - Design page - Ipad backgrounds issue
Fixed "Ship to different address" is not applied with IE8 with any payment method
Fixed Added skipping delta in shipping calculation on free shipping
Fixed Incorrect behavior of Gift Options popup for bundle product on backend Order View page. No ability to close popup
Fixed Rounding issue (1 cent) appears on discount applied and Tax Calculation Method Based On = Row
Fixed Add landscape mode background for Android and update information for portrait mode background
- changed <backgroundImageAndroid> to <backgroundAndroidPortraitImage>,
- changed all <someimagetagImageDeviceOrientatin> to <someimagetagDeviceOrientatinImage> for correctly image resizings,
- same for Icon,
- added orientation divisions for Android devices,
- fixed wrong spelled word "Portret" onto "Portrait" for iPad's config tags
- Image resize method has been changed
- backround getter method fixed
Fixed Tax rates export doesn't work
Fixed Incorrect downloader version in footer
Changed default title for HSS payment method
Fixed Rounding issue on credit memos/invoices causing different totals in magento and 1 cent error on paypal
- added adjustment for invoice`s subtotal_incl_tax and base_subtotal_incl_tax if invoice is last invoice of order
Fixed Added setting of store id in payment method instance on Authorize.net partial authorization cancel from admin place.
Fixed Fix Android preview area
- Added custom fonts
- Fixed header icons borders
- Fixed button border on homepage
- Added custom color declaration
Fixed Tabs dont affect second preview screen for Android mobile application
Fixed Incorrect design for Android mobile application in IE8
Added update Preview Area for iPad
- Fixed incorrect design for Ipad mobile application in IE8
- added stars custom fonts for landscape mode
- Fixed wrong positioning of the icons in landscape mode
Fixed Double use Authorize.net Partial Authorization Multicard with 46225 zip in one order causes wrong checkout behavior
Fixed Using MCM 2.0 shell script produces warnings and doesn't work correctly
Fixed Labels for composite products (backend) are shown incorrect
Fixed Ability to Refund the already refunded item in Patial Invoice
- added qty`s limits into creating creditmemo functionality
Fixed Performance issue with big amount of tax rates
Fixed Notice error in system.xml after saving PayPal configuration
Fixed No Qty column in the Wishlist sideblock
Fixed Export functionality doesn't work
Fixed Maestro International CC number has no validation
- use "Switch/Maestro" instead of "Maestro (International)"
Fixed No transactions is created, no ability to perform Invoice, when Order, which contains Gift Options, is placed from backend with Authorize.net Direct Post payment method
Fixed Moving Grouped product from Order and Shopping cart to the Wishlist does not work
Fixed Added advice block hiding on synchronize process
Fixed Database as cache backend
- fix for MySQL 4. Shorten field lengthes
Fixed Improvemets for MCM and Magento Extension Packager after MCMUP
Fixed PayPal Standard with specific tax settings for shop cart item with qty >= 2
Fixed Wrong tax calculation for bundle products
Fixed Export Filters are not working correctly during export of customers
Fixed Unable to complete several partial online refunds with Authorize.net Direct Post
Fixed Disable Mage_Checkout did not remove My Cart & Checkout links in the Top Link
Fixed An error occurs with using Payflo Link payment method and IE8
- just small fixture of strange for user popup in IE - "Do you want to see only secure content?"
Fixed Price for composite products in a products grid on Order creation page
Fixed No error message appears if execute synchronization with non-existing DB
Fixed "Configure" link in Product grid (backend) does not work (only IE)
Fixed "Void" button must not be active on the invoice with amount captured on-line
- redefined methods canVoid for Express and Direct Paypal models - hiding button void for invoice and creditmemo
- redefined methods cancel for Express and Direct Paypal models - no checking for invoices for order to decide void it or not at cancel.
Fixed Dropdown for Amount is absent (only IE)
- create new JS method that preserves visibility states of selects in pop-up block
Fixed Status of Order is now doesn't ignore the setting in Config.
Fixed Incorrect behavior of AJAX-popup for Gift Options (Individual Item) in IE8
Fixed to show full review for the iPad device
- added checking the current app's device type is not iPad and in this case the text of the review is truncated;
- replaced TABs on spaces in helper's class
- Re-factored XmlConnect helperfor unknown device type
Fixed xmlconnect/catalog/product action returns invalid html for product's description
- added an "xml" tag before DOCTYPE definition
Fixed wrong using of translation in method getElementHtml()
Fixed update Preview Area for iPad
Fixed Missed active/Inactive tabs logic added for a preview
Fixed Selecting catalog as a price rule condition redirects you on dashboard
- check if post array values are integers > 0
Fixed "Go to notifications" link works improperly
Fixed Unable to complete several partial online refunds with Authorize.net Direct Post
Fixed "Set Products as New to Date" is not working in Catalog New Products List widget
Fixed Mage_Adminhtml_Block_Media_Uploader::getUploaderUrl() generates incorrect path if magento is installed in a sub-directory within the root one
Fixed Now in Admin in System->TransactionalEmails all filters are saved to session.
Fixed Tax discrepancy between Tax Report and Order Report
Fixed PayPal Standard with specific tax settings for shop cart item with qty >= 2
Fixed Incorrect hint for non-configured product in Order on backend
Fixed Flush Cache Storage alert text is now changed to: "Cache storage may contain additional data. Are you sure that you want flush it?"
Fixed "Read Details" link is present in the message about synchronization status
- removed read details link from rows which have not url
Fixed Mage_Catalog_Model_Product::setFinalPrice() doesn't return its class instance for chaining purposes.
- fixed interface erroneously changed in 1.4.1.0
- fixed erroneous phpDoc
Fixed First Checkout by registered Customer: First Name and Last name fields are empty
Fixed Error with addlisttype.phtml in system log
- Removed not deleted layout block that was forgotten after rev 90337 with fix for MAGE-1955
Fixed Changes in UI for Order Status Management
Fixed Catalog Price Rule is not applied
- Added Mage_CatalogRule_Model_Rule::applyAllRulesToProduct()
Fixed Admin order creation - Unable to delete product from the cart
- fixed showing giftmessage options template, when no grid items are present
- fixed updating quote items and giftmessage items when backend receives wrong item id - now it doesn't fail with exception, but process it gracefully
Fixed With IE6 impossible to configure a Composite product in Backend
Fixed Message for non-configured composite product is changed after pressing "Update Items and Qty's"
Fixed Option "Order" on Payment Action dropdown must be available only for Express Checkout method
- Removed extra spaces in system.xml.
Fixed With IE8 an error occurs after applying the second time Credit Card in Admin panel with 3D Secure and partial authorization (Authorize.net)
- moved embedded gift options FORM tag out of other main FORM tag (such invalid layout broke DOM in IE)
- refactored JS-scripts, moved static to static files
- removed not used old js-file
Fixed Products are erased from "Product Ordered" report after deleting them
Fixed Incorrect behavior of Reorder action applied to Order, that contains Gift Options
Fixed When adding several configurable products at one time to Items Ordered from product grid, only last remains specified configuration (admin Order creation)
- restored JS-initing for controls on each popup show (was erroneously removed at rev 86017)
- fixed Configurable javascript so it won't interfere with other products controls on page
Fixed Incorrect transaction and Partial Refunds behavior with WPP Hosted Solution, when Order is partially invoiced
Fixed Hint for "View Details" in the Wishlist is located incorrectly
Fixed Onepage checkout - Shipping address issues
Fixed Tax Rate = 0% displayed in Cart
- display (0%) in rate title
Fixed Magento Backend performance optimization
Fixed Creating Purchase orders from backend works incorrect (IE)
Fixed Moving simple products (part of grouped) from shopping cart to order does not work
Fixed Payment Applicable From = "Specific Countries" option does not work for Express Checkout (Payflow Edition)
Fixed Cannot place Order in backend with Authorize.net Direct Post, when settings for payment method is applied on a Website scope level
Fixed SOAP don't use store for select products collection
- Change setting the store into filter
Fixed "Synchronize" button is disabled if select native database twice
- modified storage full name generation and button state check
Fixed Wrong algorithm to determine whether product can be configured (Composite Products feature)
- removed used method isComposite() from canConfigure() method
Fixed Missing nobr around date in Customer Product Reviews table
Fixed Status of Order, which is paced with Authorize.net Direct Post (Payment Action = Authorization) is incorrect
Fixed Added base_total_refunded field to invoice table
Fixed "Flush External Page Cache" does not work
Fixed Database as cache backend
Fixed Selecting products in Wishlist (backend) redirects you on dashboard
- Fixed searching by product names and days in wishlist
- Removed 'Visible In' column, because it showed same values as 'Added from'
- Fixed 'Added from' column to show real values, not some erroneous 'All Visible Stores'
- Fixed sorting by product name and days in wishlist
Fixed Only "Library Mail" works for USPS
Fixed The "MY WISHLIST" link always shows quantity of line items in the Wishlist and never the real quantity of items
- fix for case when out of stock products are not shown on frontend
Fixed Wrong behavior of Varien_Data_Collection_Db::_getConditionSql
Fixed Incorrect shipping tax calculation on invoice creditmemos with included tax
- Rounding of shipment taxes was added
Fixed Impossible save empty values for store view scope
- Remove store_id from EAV module and move all store functionality into catalog module.
Fixed Wrong tax calculation for bundle products
Fixed File configuration dialog is not closed when pressing 'Ok' button
- additional fix of backend Customer functionality for IE8 to eliminate JS errors
Fixed Product creation -> Necessary validation for SKU field
Fixed Link "Gift Options" is not shown in Items Ordered grid of create Order page, when "Allow Gift Messages for Order Items" is set to "No"
- considering design html at right place
- removed useless variable from observer
Fixed Price for composite products in a products grid on Order creation page
Fixed Tax from orders in status pending presents in Tax Report
Fixed Catalog Price Rule is not applied
Fixed Incorrect tax summary for partial credit memos/invoices
Fixed Order success page is not displayed after placing Order using Website Payments Pro Hosted Solution method
- now, return and cancel urls can be secure (https)
Fixed Problems with newsletter template preview on newsletter queue edit page
Fixed Link "configure" is inactive for downloadable products in product grid on Order creation page in backend
Fixed A system error message is missing for cases when media storage synchronization is complete or an error occurred
- output messages for notifications edited
Fixed Incorrect price calculation for bundle product during backend order creation(Tax is doubles in Total)
Fixed Gift Options tab is present on product page for virtual product types
Fixed Magento Backend performance optimization
Fixed Gift Message for Individual Item prompt is shown in AJAX-popup, although "Allow Gift Messages for Order Items" is disabled
Fixed Unable to change customer password when email confirmation is enabled
Fixed Incorrect tax calculation for Tax Calculation Method Based On = Unit Price and Catalog Prices = Including Tax
Fixed "Preferred State" for extensions is not working
Fixed Total amount is not recounted, when customer cancels the Gift Options during OnePageCheckout
Fixed In "Gift options" AJAX popup "OK" button written incorrectly
Fixed No address autocomplete while admin order create with single store
- fixes due to unnecessary AJAX calls
Fixed Information about Gift Options is not stored, when admin user performs Edit Order action in backend
Fixed Gift column should be removed from product grid
Fixed SKU validation error on creating products
Fixed Shipped order has status "Processing" if invoice has been posted with "Not Capture" and amount was later captured on paypal side.
- considering online and offline capture amout when checking if capture is final
- trailing white spaces removed
Fixed Link to file from downloadable product is not available after authorize and capture payment action via Authorize.net
- Link management observer call methods are moved to save_commit_after events (for order and its item respectively) instead of save_after events
Fixed Price for product with file custom options in Wishlist is calculated incorrect
- Added ability to use special price templates for displaying wishlist items (as they can be partially/fully configured and catalog price template doesn't support it)
- Added default template, that shows configured price in addition to default clean product price
Fixed Cross-sells products disappears after adding another products to shopping cart
Fixed Price for composite products in a products grid on Order creation page
Fixed No ability to delete item from Wishlist by specifying Qty = 0 and click on Update Wishlist
Fixed Do not hide ajax loader on 'Place order' step on onepage checkout when customer selected PayflowLink payment method until PayPal iframe will be loaded
Fixed Admin reorder with bundle item cause wrong qty of simple products
Fixed Incorrect bundle product price and bundle items Qty count during the process of Admin Order creation
Fixed When bundle item is configured in that way, when it cannot have User defined quantity, Qty field remains editable in AJAX-popup
Fixed "UPS XML" allowed methods bug
Fixed Mage_Page_Block_Template_Links_Block::$_afterText is never used
Fixed No configuration popup for Grouped products in admin backend new order creation
- the problem was in sales.js during parsing currency from price cell. In case when no price was present in cell the JS exception occurs. So it was needed to determine currency symbol in other way. And it way was in sets this.currencySymbol in AdminOrder class when order obj initialization or when current currency  is switched.
- small fix in grouped.phtml and giftcatd.phtml: set additioal attributes for price calculation
- small fix in configure.js: using parameter listType instead of this.current.listType in _requestItemConfiguration method
- small fix in sales.js: do overall popup cleaning by productConfigure.clean() for each loadArea calling
Fixed When bundle item is configured in that way, when it cannot have User defined quantity, Qty field remains editable in AJAX-popup
Fixed Customer data not saved when returning to cart and back to checkout
Fixed Bad sku value for non-configured bundle in Create New Order at admin backend
Fixed Integrity Constraint Violation in Mage_Catalog_Model_Resource_Eav_Mysql4_Product_Indexer_Price::_prepareWebsiteDateTable
Fixed URL Rewrite Exeption
Fixed Menu "Catalog-Manage Products-Gift Options" have incorrect design and wrong position in menu list:
Fixed Displaying Out of Stock Products on the front-end.
Fixed Incorrect shipping tax calculation on invoice creditmemos with included tax
Fixed Cannot login to backend while notify "This is a required field." is present
- There was JS error, invisible due to try-catch construction. Fixed
Fixed Authorize.net invoice capture.
- Do not capture/refund/void transaction if transaction has been captured/voided in authorize.net panel
Fixed Inadequate URL in Moneybookers eWallet "More Info" Link
Fixed It is impossible to export products using the new Export module
Fixed Tax Rate = 0% displayed in Cart
Fixed Unable to specify quantites for bundle items in AJAX-popup, when selection of bundle items is provided using radiobuttons
Fixed Incorrect style tables in customer confirmation email. For orders with Authorize.net payment method
- fixed incorrect styling in customer confirmation email;
- simplified styling on admin order page
Fixed Cron job dispatcher incorrectly releases locks
Fixed Incorrect items number in "MY WISHLIST" after updated quantity in the Wishlist
- Added new configuration option "Display Wishlist Summary" in System -> Configuration -> Customers -> Wishlist section
- Removed quantity information from wishlist frontend page
Fixed Update compare list after delete one item
Fixed No hint for disabled "Configure" button  
Fixed In Bundle product's page "Availability" string is not placed well
Fixed Non-correct headers uses for email return-path.
Fixed Numerous issued with displaying tax on front-end for bundled items
Fixed Impossible save empty values for store view scope
Fixed Non-correct headers uses for email return-path.  
- Added "-f" parameter to transport instance at Mage_Core_Model_Email_Template::send() like PHP mail() needs
Fixed Do not hide ajax loader on 'Place order' step on onepage checkout when customer selected PayflowLink payment method until PayPal iframe will be loaded
Fixed Order can be placed with non-configured composite product in Ordered Items
Fixed Using "Update Wishlist" adds quantity to existing value even nothing wasn't changed
Fixed Cannot open menu configuration-general-design
Fixed Added backend design exception model
Fixed The options in the action dropdown for export are incorrectly labeled in the Sales section
Fixed Checking if address exists was added before save addresses attributes (to prevent foreign key error in case of two users were logged in under one account in the same time).
Fixed URL rewrite algorithm was changed: fix for permanent link for old URLs.
Fixed Incorrect number of used card is shown after you have returned to 'Shopping Cart' in partial authorization (Authorize.Net)
Fixed In one page checkout incorrect information for declined card is shown for partial authorization(Authorize.Net)
Fixed Bundle products shoved without options
Fixed Instructions on the Payflow Link Configuration Menu
Fixed rate model checks rate to existence in rule before delete action
Fixed store name 'Demo Store' was changes to variable with real store name var store.getFrontendName()
Fixed Place order does not work with free shipping
Fixed possibility to find product in advanced search with from-to price is 0 was fixed
Fixed FPT with prices included tax problem
Fixed Instable work of back-end notification
- For now pop-up window doesn't go to our side. Flash availability check is removed
- little refactoring
- method Mage_AdminNotification_Helper_Data::isReadablePopupObject() marked as deprecated
Fixed Onepage checkout - Shipping address issues
- added resetting property to save billing address in address book
- added saving of new shipping address
- simplified condition in order preparation routine
Fixed Backordered Item Status on Orders
- saving current ordered items number for stock item and calculating backorder qty according to it
Fixed The product category is empty after moving category with products to another one
Fixed Magento Connect -> If substitute channel for package extension, MCM will send authorization data to the fake URL
Fixed Image Label is not Uploading properly
Fixed Category Tree -> Changing category color
Fixed With enabled "Inline Translation" its impossible to finish purchase
- Added checking for escaped html end tag
Fixed #0024559: Special Price to Date can not set Use Default Value
Fixed CMS -> Manage Pages: It's possible to save New Page with capital letters in URL key
- corrected js validation;
- added server-side url key validation.
Fixed Makeup of subcategories dropdown menu at front-end glitter with category fields bar
- removed property "z-index: 1" for #nav li.level-top
Revert changes from rev #83486
Fixed Tier prices are not recalculated in bundle product configuration with different currency
Fixed On Multi store installation, 'specials' rss feed includes specials from other stores
Fixed Subscribe to Order Status - translation problem
Fixed There is a spelling error with the translation
Fixed Single Coupon applying for each shipping location rather than whole order
- applying cart fixed rules for first shipping address order only
- store which quote address cart fixed rule was applied for in SalesRule_Model_Validator
Added method getDefaultCountry and constant XML_PATH_DEFAULT_COUNTRY into Mage_Core_Helper_Data
Added more abstract system config backend model for uploading files:
- removed duplicated logic from system config backend image model.
Fixed Grand total doubles when processing multi-shipping checkout and ordinary checkout
- cleaning address information when checkout type changes from multi-shipping to onepage
Fixed Problem with admin roles
Checkout page IE6/7 CSS bug fixed.
Fixed Edit product->"Inventory" tab - "Qty Increments" error contain mistake
Fixed No field for "Search Query"
Fixed Character "b" is added to Review
Fixed Retain the selected tab on editing CMS page
Fixed Invoices Tax class not displayed
Fixed Full tax summary on invoice
Fixed working with partial authorizations on first card submit
Fixed CMS can't create Hierarchy Node Link widget in IE8
Fixed The Wrong / not exist Url should be redirect to 404 page
Fixed Interface Locale needs additional country
Fixed The product category is empty after moving category with products to another one
Fixed 'Gateway error: A valid amount is required' appears during create Credit Memo for order, which uses Authorize.net
Fixed #19807: Product with visibility- Nowhere display on the fron-end in 'Last ordered items' block, if order create on back-end
Fixed Displaying Out of Stock Products on the front-end
- added price data for consider item stock status for wish-list and compare products items collections, in reorder for product collection which sales order item collection based on.
Fixed active tabs in store view scope while disabled PayPal methods
- Added functionality that disables corresponding methods in store view scope.
- Fixed related bug: in website view scope Express Checkout PE checkbox appears improperly checked after page load.
Fixed Active tabs in store view scope while disabled PayPal methods
Fixed Bundle price wrong when static qty above 1
Fixed No "Suspected Fraud" status for hacked orders
Fixed PayPal API Certificate uses settings from the default configuration, instead of the website
Fixed Don't show (-) in totals when shipping title and shiping method empty in a configuration
Fixed Product with price 0.00 possibility purchase through Shortcut PayPal button
Fixed Archived orders not displayed in customer's orders list
Fixed Fatal error on magento compilation
Fixed Mage::app() call is not overriding cache/var directories
Fixed After switching "Manage Stock" option, product prices index does not invalidate
Fixed Transfer Cart Line: dropdown with shipping Rates is absent on PayPal side
Fixed Can't choose Group at the creation new Order by admin
Fixed PayPal API Certificate uses settings from the default configuration, instead of the website
- added forgotten file from rev 84979
Fixed Bug in Error Message display for Send to Friend (Mage_Sendfriend_ProductController)
Fixed Admin order creation JS error message
Fixed Problems with category sort order
Fixed Button "Credit Memo" after refund partial per invoice is enabled
Fixed Report don't show order with status "Canceled"
Fixed Wrong quantity checks architecture in inventory observer
Fixed On page 404, link "go back" does not work
Fixed Category editing "Use Parent Category Settings" inconsistent behavior (Google Chrome)
Fixed Set products per Page
Fixed product review filter by customer does not work
- type is administrator when customer_id is NULL and store_id is admin store id
Fixed Product review filter by customer does not work
Fixed WYSIWYG Editor disabling issue
Fixed Quantity increment for Group Product Issue
Fixed #15780: Add configuration option to ignore SID on frontend
- Changed fieldset scope from global to website, because the field has website scope.
Fixed Message "The product has required options" appears twice in the back-end order for items with mandatory custom options
Fixed Meta description can be more than 255 chars
Fixed When creating a new customer from the backend in "Manage Customers", the welcome email is empty
Fixed  Image Label is not Uploading properly
- Slightly changed logic in adding image algorithms due to possible existence of added pictures
Fixed  JavaScript Calendar Date Range
- Also little fix to maintain corporate standards
Fixed Gift message displaying conditions not properly work on frontend and backend:
Fixed flat catalog tables do not contain varchar values for store view level
Fixed Add check "Use Default" for dependent form elements (in the admin), because if field "Use Default" it should be always disabled.
Fixed #21084: "can not" -> "cannot" text changes (found only one occurrence of "can not" and changed it)
Fixed New added required attribute should be filled in by customer before checkout
Fixed PayPal Billing Agreement presents in payment methods when no BA are created during admin order creation
Fixed Free Shipping Banner appears to be hard coded into the template file - replaced hardcoded callouts with CNS blocks. Two CMS blocks should be added to RR install.
Fixed Empty order status field
- Configuration mistake
Fixed Cart Rule discount with Fixed amount for a whole Cart is not applied for OnePageCheckout
Fixed Coupon with "Apply fixed amount discount for whole cart" does not apply to bundle products with dynamic price
Fixed Frontend additional attributes issue with price attributes.
Fixed Unable to translate "Submit Invoice" button
Fixed Undefined index after clicking on Print Shipment
Fixed Customer cannot be confirmed from the admin
Fixed Inline Translations don't work if you have more than one store
Fixed Invitation link has a session ID parameter
Fixed Magento creates order even if response from PaypalUk is empty
- response validation has been added
Fixed Displaying Out of Stock Products on the front-end
Fixed Incorrect billing/shipping address transfer from magento to PayPal (WPP Payflow Edition, WPP Payflow Edition EC )
Fixed User cannot be associated with webservice role if he was selected in the Role Users of Role inforamation Page
Fixed CSS Merger Cache Ignores Hostname and HTTPS
- removed "beta" mark on CSS merger feature in system configuration, because known issue with different host names for different store views is solved
- split merged CSS storage into 2 parts: "css" and "css_secure"
- included "port" and "base host name" parameters into merger hash generation algorithm as parameters
Fixed: Default country setting not affect country select field default value on frontend 
Fixed Credit card data Iframe for PayflowLink is displayed on Order Review step for all payment methods
Fixed The Wrong / not exist  Url should be redirect to 404 page
- Added section availability in preDispatch
Fixed Report > Products Ordered ignores Store view switcher
- reforming $storeIds checks
Fixed Report > Products Ordered ignores Store view switcher
Fixed Cannot create or save after editing customer's Address, "Please enter the street" error appears on frontend
Fixed Magento allows admin to create category/product url rewrite for a store that doesn't have this category/product
- Showing websites that only associated to current category or product.
Fixed Magento allows admin to create category/product url rewrite for a store that doesn't have this category/product
- Fixed coding standards
Fixed Not all session data destroyed on logout
Fixed Inline Translation - Pages View Issue
- move cache types list in config
Fixed Shop By index range is build based on Excl. Tax value, but filter products in catalog based on Incl tax value. filter works incorrect
- it was problem with facets calculation, when we use Solr
Fixed Security issue - processing of disallowed actions with orders through direct URL
- wrong Credit Memo ACL resource name
Mage_Catalog_Model_Resource_Eav_Mysql4_Category_Flat
Fixed Different order amount in Google checkout and Magento orders
Fixed Bundle Product w/o required option calculates wrong fixed minimal price
Fixed Admin unable to uninstall payment method without editing config
- getMethodInstance method was rewrited
- Added instance check in some payment models according to this
Fixed lastInsertId invokes when no insert where proceed
Fixed Changing the root category for a store doesn't work correctly
Fixed Unable to translate notice messages, errors and success messages
Fixed Problems with newsletter template preview on newsletter queue edit page
Fixed Tax of shipping method Flat Rate is not passed to the order while Google Checkout
Fixed Product Flat Data reindex
- disable flat data usage during reindex process
Fixed Catalog Rule does not work properly when condition uses Contains
Fixed Wrong prices (currency) for shipping price via UPS XML rates
Fixed Unable to translate product edit/create page
Fixed During product save operation, Magento disables keys for catalog_product_index_* tables.
Fixed FPT with prices included tax problem
- Added 'Catalog Prices' option check
Fixed Google Analytics e-commerce tracking not working
Fixed Empty bundle selections are shown as item options
Fixed Subtotal for Bundle product with quantity 2 calculates as for one
Fixed Remove initSessionLayoutMessages() from ProductController
Fixed Incorrect value of field "Custom Layout Update" causes fatal error
Fixed Duplicate of a product creates it with no SKU value and is saved
Fixed Field "Meta Description" should be has limit of 255 characters
Fixed Row subtotal is not displayed for Downloadable product in Backend
Fixed Bad styling of product options displayed in wishlist
Fixed Need to show item options of customer shopping cart at backend
Fixed Wishlist item configuration is not saved at backend
Fixed "OK" button instead of "Ok" must be on product configuration popups in backend
Fixed Products wishlist items are not sorted by added_at
Fixed Mage_Core_Model_Template doesn't properly restore old design context
Fixed StoreView value not in FlatCatalog for multiple-select type attribute
Fixed Rule condition "is one of" disappeared for category_ids attribute
- Added "is one of" and "is not one of" to multiselect type conditions
Fixed Security issue - the way to get URL-path of Admin side through Front-end URL
Fixed Pictures does not appears on the additional information tab on front end for product attribute with Catalog Input Type for Store Owner= Text Area
Fixed Add method which was accidentally removed
- Deprecated methods Mage_Catalog_Model_Product::loadParentProductIds, Mage_Catalog_Model_Resource_Eav_Mysql4_Product::getParentProductIds
Fixed Can't create refund online for Google Chekout
Fixed After pressing 'Cancel Payment' link nothing happens in Payflow Link payment method
Fixed class Mage_Core_Model_Store has problem with _processConfigValue and processSubst
- Added "@deprecated after 1.4.2.0" mark for processSubst() in Mage_Core_Model_Store
Fixed Category tree is missing for product, assigned to root category
Fixed Unable to translate "Delete Image" checkbox
Fixed wrong XML paths in isAllowed() method for system->Admin roles controllers.
Fixed Magento falls into the white screen when saving URL rewrite for a product on the Default Store View
- Changed exception message
Fixed Different shipping amount for creditmemo from order page and invoice page
Fixed Tax rates with zip ranges doesn't match to addresses with asterisk ( * ) as zip code value
Fixed Fedex doesn't react to overrided in website scope BaseCurrency value.
Fixed Export Customers. Map billing or shipping street in the mapping interface. They won't be exported
Fixed Advanced Import Profiles doesn't work
Fixed Add New Customer Form: checkbox "Send Welcome Email" is not disabled if "Associate to Website"="Admin"
Fixed JS validation prevent submit form
Fixed Payment action: Ogone Default Operation is not working at all
Fixed There are no ability to create several Refunds to Order completed using Partial Authorization
Fixed Incorrect shipping tax calculation on invoice creditmemos with included tax
Fixed URL key wasn't used while product save
Fixed Inline Translations don't work if you have more than one store
Fixed Tax Report Shows Wrong Tax Percent After Changing Tax Rate
- added grouping by tax percent in report collections
- modified unique key in the tax report aggregation table to allow generating report with grouping by tax percents
- data in the tax report aggregation table is truncated and lifetime statistics must be re-generated after upgrade
Fixed make increment_id fields unique in sales tables
Fixed Added items to the Wishlist in the "Manage Shopping Cart" are not shown
Fixed Orders: More than one filter to the same field is not possible
- Function items was changed.
Fixed Invoices: More than one filter to the same field is not possible
- Function items was changed.
Fixed Report counts configurable products twice
Fixed Tax rate with ZIP XXXXX* doesn't match to customer zip XXXXX
Fixed Method Mage_Wishlist_Block_Links::addWishlistLink removed
- Added "@deprecated after 1.4.2.0"
Fixed "Subscribed to Newsletter" success e-mail couldn't be sent if you changed customer's subscription in admin.
Fixed Problems with newsletter template preview on newsletter queue edit page
Fixed Dashboard reports bug
- Added discount to Mage_Reports_Model_Mysql4_Order_Collection:::addSumAvgTotals()
Fixed Google base timeout
- Timeout is 60 seconds now.
Fixed Bundle product is not shipped correctly
Fixed Unable to translate product edit/create page
Fixed Dataflow customers export optimization
- customer groups are storing in memory instead of DB queries
Fixed Price layer navigation does not count product with zero price
Fixed Import Product doesn't work
- added empty file checking
Fixed Price Indexer does not apply configurable options surcharges for customer groups different to "NOT LOGGED IN"
Fixed Category Update Not Reflected in Left Nav
Fixed Notify Stock RSS Includes Products without stock
Fixed FPT is not shown in the order review page (for website)
Fixed SQL Upgrades have wrong implementation
Fixed Email to a friend error, existing Order Send Email error
- Added ability to access to /admin/sales_order/email/ action
Fixed Total Refunded Report shows Offline Refunded orders like Online Refunded
Fixed UPS XML Shipping method doesn't work, if country of shipping origin is not USA
- Added Mage::log() for errors @ Mage_Usa_Model_Shipping_Carrier_Ups::_parseXmlResponse()

==== 1.9.1.1 ====

=== Fixes ===
  * Fixed Default shipping address is passed to PayPal instead of the selected shipping address
    * reverted cloning of shipping address and it's setting to quote.
    * implemented method assignCustomerWithAddressChange() with setting billing and shipping addresses
  * Fixed Added transferring of last four digits of credit card number to give possibility refund authorize transactions.
  * Fixed Returning from paypal cancel existing order
    * Canceling order in cancelAction() only if it was placed from current quote
  * Fixed Taxes->Incorrect product price and tax value on the last chechout step

==== 1.9.1.0 ====

=== Major Highlights ===
  * Starting from this release we are including TheFind extension.

=== Imporvemnts ===
  * Bundle product optimization
  * MCM 2.0 implementation of new download logic SRS_MCMDL16082010 - "Magento Connect Manager 2.0. Download rules" 
  * Added JS to enables/disable checkbox 'Append Comments' depending on checkbox 'Email Order Confirmation'
  * New magento skin for prototype pop-up window lib.
  * Improving inline translation pop-up design
  * Reward Points:
    * added ability automatically refund reward points
  * Customer balance:
    * added ability automatically refund store credits
  * Implementing payment refund notifications
  * Improved profiler
  * Solr improvements
    * Changed logic of layered filters applying to force price filter consider setted filters when max price identifies
    * Implemented stats component
    * Fix to search suggestions only when collection gets through search layer channel authentication logic moved to appropriate classes
    * Added check if selected engine is active when third party search engine selected, but not active - mysql engine will be selected silently. For use solr engine not enough to check it's selected. We must check it's available
    * Condition added for suggestions block and _prepareLayout() method
  * Implemented more flexible filters in collections:
    * Varien_Data_Collection::addFilter() registers filters as objects and implements getFilter() method to be able to detect/modify already existing filters
    * Varien_Data_Collection_Db::_renderFilters():
      * Added a hook _renderFiltersBefore()
      * Implemented 'public' filter type, which maps the provided filter field from public into internal view and passes the "value" as a condition through _getConditionSql()
    * Added $this->_renderFilters() call to abstract EAV collection . to accommodate the filters that may be set by addFilter() method

=== Changes ===
  * Changed ';' as windows path separator with PATH_SEPARATOR
  * Refactored sales rule discount detection on "buy_x_get_y" rule type
  * Refactored invoice/shipment/refund comments collections models to one abstract Comment Collection Model
  * Refactored Block Order Invoice/Shipment/Creditmemo comments to usage of common block and design - Block Order Comments
  * Removed memory leaks in Varien_Db_Select
  * Refactored shipping rates calculation to keep process solid and do not try to recreate internal process of calculation, as it was
  * RSS feed "Special products" complete refactoring

=== Fixes ===
  * Fixed Magento Connect: Authorization login and password for enterprise added to the connect.cfg
  * Fixed Magento Connect: If substitute channel for package extension, MCM will send authorization data to the fake URL
  * Fixed Product category: category is empty after moving category with products to another one
  * Fixed Gift message displaying: conditions not properly work on frontend and backend
  * Fixed Opening bestseller product (admin/dashboards) results in adding new product
    * fixed case when dashboard shows report for non-existing product (i.e. deleted one)
  * Fixed Magento Connect Manager -> Settings-> "Magento Connect Channel Protocol" set to FTP
  * Fixed Bestsellers statistic bug
    * removed NULL values from statistic tables and changed foreign keys to cascade deleting stats for deleted products
  * Fixed Re-downloading Magento using Magento Connect Manager issue
  * Fixed QTY of product is incorrectly showed in Customer's Current Activities - Shopping Cart and Customer's Shopping Cart.
  * Fixed SOLR search - wrong logic algorythm issue
    * defined parameter mm in request handlers in solrconfig.xml for logical OR in multi-words search queries
    * multi-words query search logic changed to OR for MYSQL "like" type search
    * changed dependence of search_type control element
  * Fixed Magento Connect: Unable to upload community extention in MCM without Community Channel installed
  * Fixed Calculation of bundle product price
  * Fixed Customer's email doesn't escalate to billing/shipping addresses
    * added copying email field from quote address to order address
    * added sending email to PayPal, when user's address doesn't contain email info
  * Fixed Reward points system configuration text proofreading
  * Fixed Displaying of banner rotator widget based on none expired catalog rule with set "To Date" option as blank
  * Fixed Layout update: While adding widget instance layout update in developer mode there is appears php error trace that brakes layout update form
  * Fixed Working of gift message displaying conditions on frontend and backend
  * Fixed Displaying of bundle product weight
  * Fixed Authorize.net: 'Gateway error: A valid amount is required' appears during create Credit Memo for order, which uses Authorize.net
  * Fixed Paypal configuration page:  "Select a PayPal Solution" checkbox bug
    * Website Payments Pro and  Website Payments Pro Payflow Edition consider each other status in their checkboxes control logic
  * Fixed Invoice Comments Stripped When Quantities Updated
  * Fixed Staging error : 'Invalid website id requested.' error during staging website creation
    * Implemented direct assigning of store_id without loading the store model to prevent issues with two connections (read/write) in transaction
  * Fixed Opening bestseller product (admin/dashboards) results in adding new product
    * fixed case when dashboard shows report for non-existing product (i.e. deleted one)
  * Fixed Magento Connect Manager -> Settings-> "Magento Connect Channel Protocol" set to FTP
  * Fixed #15759: Gift Card vs. Google Checkout: different amount for pay
  * Fixed #16665: Admin order creation - file/link price of the downloadable product doesn't considering into subtotal
  * Fixed #23321: Wrong type casting in method
  * Fixed Ignoring 'Include in Navigation Menu' category option with enabled flat catalog
  * Fixed Admin unable to add Image through WYSIWYG to description and Short description without intermediate product saving
  * Fixed Double clicking adds product to cart twice. Implemented single click for "Add to cart" button
  * Fixed Removed Maestro/Switch/Solo card from system. Added Maestro/Switch and Solo cards to chronopay and cybersource methods
  * Fixed Incorrect behavior of groupped product while adding to gift registry
  * Fixed PayPal: If DP PE is enabled, the EC must be disabled automatically
  * Fixed Catalog Price Rule(for NOT LOGGEN IN customers) is not applied for shopping cart and while checkout as guest or while first registration
  * Fixed Payment methods titles for the PDF prints through admin gets from default config instead of the storeview config moved set current store logic to models level
  * Fixed Attribute options sort order is different with and without solr usage
  * Fixed Mage_Adminhtml_Model_System_Config_Backend_Serialized::_afterLoad() does not check input for unserialize()
  * Fixed Gift cards with different recipients added to gift registry have wrong behaviour when added to cart simultaneously
  * Fixed Added possibility to generate PBridge IPN URL in consideration of store id
  * Fixed Admin panel: Customer address disappear from preview after editing
  * Fixed If in checkout process select "PAY with PayPal" app get "Error" message
  * Fixed Sending letters through "Contact Us" form, leads to error
  * Fixed PayPal Express with Flat Rate: incorrect counting Shipping amounts per order
  * Fixed Saving attribute value in store view scope only causes data loss
  * Fixed #22607: Dispose of Mage_GiftRegistry module
  * Fixed Widget settings sharing between widget types
  * Fixed #14512: Custom layout updates + subcategories
    * restored the broken logic of applying custom page layout (template)
    * fixed broken logic of applying category design settings to products according to the new requirements implemented in rev 68729; had to refactor product controller for this
    * applied the same fix for root category checking as in category controller
    * replaced declaration of non-existing one-column.phtml into empty.phtml in configuration (as it should be)
    * minor text change in "page layout" source models
  * Fixed Reminder rule doesn't link to website in single store mode
  * Fixed Discount does not apply if the use attribute Date logic of discount applying changed for not global attributes
  * Fixed Adding qty to bundle unit price calculation to quote totals recalculating
  * Fixed No reminder emails for customers created from admin area
  * Fixed Saving category cause: 'Exception' with message 'File was not uploaded.' in /lib/Varien/File/Uploader.php:139
  * Fixed incorrect design for the order with gift card
    * Fixed on Order Review page
    * Fixed on Multiple Addresses Order Review page
    * Fixed on Shopping Cart page
    * Fixed in Magento Pro theme
    * Reviewed fixes for cross-browser compatibility
    * Fixed wrong hyphenation of Gift Card Code in IE6 and IE7 on Shopping Cart page
    * Fixed vertical alignment of removal button in Safari 5 on Shopping Cart page
  * Fixed Setting the same column font size as in cells in PDF documents printing
  * Fixed Home page appears instead of predefined 404 page
  * Fixed converting of "is one of" and "is not one of" values in decimal
  * Fixed Wrong column type for order_increment_id on Invoice, Shipments, Creditmemo grids
     * order_increment_id was setted as "text" instead of "number" type
  * Fixed dependence of Mage_Adminhtml_Block_Sales_Order_Creditmemo block from 'canCapture' 'canCapturePartial'. It was changed to 'canRefund' 'canRefundPartialPerInvoice'. For set result of Mage_Adminhtml_Block_Sales_Items_Abstract::CanEditQty`s we can use setCanEditQty
  * Fixed Inconsistency with credit memos 
  * Fixed possible XSS on front
  * Fixed PayPal Express shortcut is missed on product page
  * Fixed Google checkout notifications duplicate orders or double-process them on timeouts
  * Fixed An email is sent to a customer after its profile is edited in the Admin panel
  * Fixed Fatal error during get tracking popup Url
  * Fixed Maestro/Switch and Solo Dollars card types for paypal_direct payment method. Also removed Maestro/Solo/Switch card type for this method
  * Fixed Wrong Reward Points process during creditmemo creation
  * Fixed Using filters on Billing Agreement Related page leads to fatal error
  * Fixed Payflow Pro includes only the first line of billing/shipping addresses into request
  * Fixed Incorrect showing of product page when inputing a product description with table which have attribute align = left
  * Fixed Many "SQLSTATE[HY000]: General error: 1205 Lock wait timeout exceeded; try restarting transaction"
  * Fixed Customer attributes: All the following customer attrubutes being created are populated with the values entered in the attribute that has been created as the first one
    * cause of the bug in same value of $timestamp for several attributes date
  * Fixed Information about reward points discount for the order is not displayed at the credit memo
  * Fixed for Invoices, Shipment, Credit Memos added possibility to show admin comments at user frontend (checkboxes "Visual on Frontend" in admin interface)
  * Fixed "Notice: Undefined property: Mage_Catalog_Model_Template_Filter::$_useAbsoluteLinks " when you use WISIWYG Editor for field "Description"
  * Fixed Website PayPal Standard payment method is not working with Reward Point, Store Credit and gift Cards
    * paypal/cart model: fixed logical error of validating totals -- should be ">" instead of ">="
  * Fixed Gift registry update emails are not sent if you purchase items from multiple gift registries and use checkout with multiple addresses
  * Fixed Category and product design settings inheritance
  * Fixed Wrong link for bestsellers in admin dashboard. Grids.php fixture doesn't do anything for this bug - just to beautify code
  * Fixed Tax does not calculate for Downloadable product in purchase it through PayPal Express Checkout
    * was added assigning customer to quote when PayPal Express checkout started
  * Fixed Paypal direct refund transaction id transferring through Payment Bridge
  * Fixed Surch suggestion are not showed if there are more than one suggestion
    * 'spellcheck.count' parameter was ommited in solr suggestion query
  * Fixed Empty dropdown 'status' at the creation New Review Grid
  * Fixed Incorrect work of "Recently Compared Products" functional on category's page
  * Fixed Javascript: when having single store, javascript raises exception and all followed code is not executed
  * Fixed Special price for dynamic bundle applies twice
  * Fixed Returned Preview button to newsletted templates, added support for single-mode shops in template previews (during edit and from list of templates), fixed wrong description and method names in template controller
  * Fixed #21960: Labels in page/html_wrapper and core/text_list in layout
  * Fixed Support of pending transaction to payflow pro. Also fixed "denied payment review" message in payment
  * Fixed Removed "Shipping address" block on recurring profile view page if product is virtual. Also fixed virtual order detection
  * Fixed GUI bugs on Recurrent Profile frontend part
  * Fixed Suspending Recurring Profile from front side leads to error
  * Fixed The pager is missing for tagged product list
  * Fixed Wrong profiler output for getUrl in Category
  * Fixed Saving of billing agreement relation with order - added force billing agreement resaving and fixed isValid method in greement detection
  * Fixed Fatal error on PHP 5.2.4 while setting stores in PBridge payment methods
  * Fixed Incorrect sort order reliable on mysql internal order during eav attribute load
    * move prepare select to separate method
    * fixed passing additional totals to PayPal when cart line items are disabled
    * simplified paypal/abstract api to just set the paypal/cart instance and the needed configuration settings
    * moved workarounds of setting shipping and discount totals as line items into the appropriate APIs: WPS and NVP
        * removed redundant variable from rev 75327 which was obsoleted by rev * 75765 and replaced by _lineItemTotalExportMap
  * Fixed Module Enterpise_WebsiteRestriction restricts access for payment callbacks
  * Fixed Showing of my product Review short description HTML tags
  * Fixed Adding catalog_product table definition to product review collection
  * Fixed Refund from google chekout don't display on the order in Magento
  * Fixed "Compare Products" block does not appear on the category page and product page
  * Fixed Shoping cart view is incorrect
  * Fixed Type of obscure input field to 'password', so this field is hidden even when user enters data in it
  * Fixed Dependence to payment method on getting billing agreement method title. For now payment method title stored in billing agreement
  * Fixed Invoice creation thought zero subtotal checkout with new order status "pending"
  * Fixed SOAP-ERROR: Parsing Schema: can't import schema from 'http://schemas.xmlsoap.org/soap/encoding/'
  * Fixed Custom option prices for simple products are GLOBAL
    * added website price scope for bundle items.
  * Fixed Reward Points for Newsletter Subscriptions works

==== 1.9.1.0-rc3 ====

=== Fixes ===
  * Fixed MAGE-1197: Gift message displaying conditions not properly work on frontend and backend
  * Fixed MAGE-177: Opening bestseller product (admin/dashboards) results in adding new product
    * fixed case when dashboard shows report for non-existing product (i.e. deleted one)
  * Fixed MAGE-1204: Magento Connect Manager -> Settings-> "Magento Connect Channel Protocol" set to FTP
  * Fixed MAGE-1170: Bestsellers statistic bug
    * removed NULL values from statistic tables and changed foreign keys to cascade deleting stats for deleted products
  * Fixed MAGE-1220: Re-downloading Magento using Magento Connect Manager issue
  * Fixed MAGE-993: QTY of product is incorrectly showed in Customer's Current Activities - Shopping Cart and Customer's Shopping Cart.
  * Fixed MAGE-1214: MCM -> No warning message
  * Fixed MAGE-1298: SOLR search - wrong logic algorythm issue
    * defined parameter mm in request handlers in solrconfig.xml for logical OR in multi-words search queries
    * multi-words query search logic changed to OR for MYSQL "like" type search
    * changed dependence of search_type control element
  * Fixed MAGE-1249: Unable to upload community extention in MCM without Community Channel installed
  * Fixed MAGE-1306: Bundle product price calculated not correctly
  * Fixed MAGE-1295: Customer's email doesn't escalate to billing/shipping addresses
    * added copying email field from quote address to order address
    * added sending email to PayPal, when user's address doesn't contain email info


==== 1.9.1.0-rc2 ====

=== Fixes ===
  * Fixed MAGE-938: Reward points system configuration text proofreading
  * Fixed MAGE-1280: Banner rotator widget based on none expired catalog rule with set "To Date" option as blank is not displayed
  * Fixed MAGE-1281: While adding widget instance layout update in developer mode there is appears php error trace that brakes layout update form
  * Fixed MAGE-1197: Gift message displaying conditions not properly work on frontend and backend
  * Fixed MAGE-979: Displaying Bundle product weight is incorrect
  * Fixed MAGE-925: 'Gateway error: A valid amount is required' appears during create Credit Memo for order, which uses Authorize.net
  * Fixed MAGE-1286: "Select a PayPal Solution" checkbox bug
    * Website Payments Pro and  Website Payments Pro Payflow Edition consider each other status in their checkboxes control logic
  * Fixed MAGE-1040: Invoice Comments Stripped When Quantities Updated
  * Fixed MAGE-407: 'Invalid website id requested.' error during staging website creation
    * Implemented direct assigning of store_id without loading the store model to prevent issues with two connections (read/write) in transaction
  * Fixed MAGE-177: Opening bestseller product (admin/dashboards) results in adding new product
    * fixed case when dashboard shows report for non-existing product (i.e. deleted one)
  * Fixed MAGE-1204: Magento Connect Manager -> Settings-> "Magento Connect Channel Protocol" set to FTP


==== 1.9.1.0-rc1 ====

=== Imporvemnts ===
  * Bundle product optimization
  * MCM 2.0 implementation of new download logic SRS_MCMDL16082010 - "Magento
  * Connect Manager 2.0. Download rules"
  * http://wiki.varien.com/pages/viewpage.action?pageId=6685920
  * Added JS to enables/disable checkbox 'Append Comments' depending on
  * checkbox 'Email Order Confirmation'
  * New magento skin for prototype pop-up window lib.
  * Improving inline translation pop-up design
  * Reward Points:
    * added ability automatically refund reward points
  * Customer balance:
    * added ability automatically refund store credits
  * Implementing payment refund notifications
  * Improved profiler
  * Solr improvements
    * MAGE-930: without stat component for price facet realization
	* Changed logic of layered filters applying to force price filter
	* consider setted filters when max price identifies
	* Implemented stats component
	* Fix to search suggestions only when collection gets through search
	* layer
	* Channel authentication logic moved to appropriate classes
	* Added check if selected engine is active
	* When third party search engine selected, but not active - mysql
	* engine will be selected silently. For use solr engine not enough to
	* check it's selected. We must check it's available
	* Condition added for suggestions block and _prepareLayout() method
  * Implemented MAGE-1266: more flexible filters implementation in
  * collections:
    * Varien_Data_Collection::addFilter() registers filters as objects and
    * implements getFilter() method to be able to detect/modify already
    * existing filters
    * Varien_Data_Collection_Db::_renderFilters():
      * Added a hook _renderFiltersBefore()
      * Implemented 'public' filter type, which maps the provided filter field
      * from public into internal view and passes the "value" as a condition
      * through _getConditionSql()
    * Added $this->_renderFilters() call to abstract EAV collection . to
    * accommodate the filters that may be set by addFilter() method
	
=== Changes ===
  * Changed ';' as windows path separator with PATH_SEPARATOR
  * Refactored sales rule discount detection on "buy_x_get_y" rule type
  * Refactored invoice/shipment/refund comments collections models to one
  * abstract Comment Collection Model
  * Refactored Block Order Invoice/Shipment/Creditmemo comments to usage of
  * common block and design - Block Order Comments
  * Removed memory leaks in Varien_Db_Select  
  * Refactored shipping rates calculation to keep process solid and do not try
  * to recreate internal process of calculation, as it was  
  * RSS feed "Special products" complete refactoring	
	
=== Fixes ===
  * Fixed #15759: Gift Card vs. Google Checkout: different amount for pay
  * Fixed #16665: Admin order creation - file/link price of the downloadable
  * product doesn't considering into subtotal
  * Fixed 23321: Wrong type casting in method
  * Fixed MAGE-633: Add boolean type for catalog price rules and condition for
  * category_ids
  * Fixed MAGE-632: Ignored 'Include in Navigation Menu' category option with
  * enabled flat catalog
  * Fixed MAGE-620: Admin unable to add Image through WYSIWYG to description
  * and Short description without intermediate product saving
  * Fixed MAGE-541: Double clicking adds product to cart twice. Implemented
  * single click for "Add to cart" button
  * Fixed MAGE-555: Removed Maestro/Switch/Solo card from system. Added
  * Maestro/Switch and Solo cards to chronopay and cybersource methods
  * Fixed MAGE-547: Incorrect behavior of groupped product while adding to
  * gift registry
  * Fixed MAGE-329: PayPal: If DP PE is enabled, the EC must be disabled
  * automatically
  * Fixed MAGE-268: Catalog Price Rule(for NOT LOGGEN IN customers) is not
  * applied for shopping cart and while checkout as guest or while first
  * registration
  * Fixed MAGE-574: Payment methods titles for the PDF prints through admin
  * gets from default config instead of the storeview config
    * moved set current store logic to models level
  * Fixed MAGE-650: Attribute options sort order is different with and without
  * solr usage
  * Fixed MAGE-645:
  * Mage_Adminhtml_Model_System_Config_Backend_Serialized::_afterLoad() does
  * not check input for unserialize()
  * Fixed MAGE-649: Gift cards with different recipients added to gift
  * registry have wrong behaviour when added to cart simultaneously
  * Fixed MAGE-651: Added possibility to generate PBridge IPN URL in
  * consideration of store id
  * Fixed MAGE-644: Admin panel: Customer address disappear from preview after
  * editing
  * Fixed MMOB-113: If in checkout process select "PAY with PayPal" app get
  * "Error" message
  * Fixed MAGE-518: Sending letters through "Contact Us" form, leads to error
  * Fixed MAGE-640: PayPal Express with Flat Rate: incorrect counting Shipping
  * amounts per order
  * Fixed MAGE-533: Saving attribute value in store view scope only causes
  * data loss
  * Fixed #22607: Dispose of Mage_GiftRegistry module
  * Fixed MAGE-246: Widget settings sharing between widget types
  * Fixed #14512: Custom layout updates + subcategories
    * restored the broken logic of applying custom page layout (template)
    * fixed broken logic of applying category design settings to products
    * according to the new requirements implemented in rev 68729; had to
    * refactor product controller for this
    * applied the same fix for root category checking as in category
    * controller
    * replaced declaration of non-existing one-column.phtml into empty.phtml
    * in configuration (as it should be)
    * minor text change in "page layout" source models
  * Fixed MAGE-666: Reminder rule doesn't link to website in single store mode
  * Fixed MAGE-627: Discount does not apply if the use attribute Date logic of
  * discount applying changed for not global attributes
  * Fixed MAGE-655: Added qty to bundle unit price calculation to quote totals
  * recalculating
  * Fixed MAGE-668: No reminder emails for customers created from admin area
  * Fixed MAGE-674: Saving category cause: 'Exception' with message 'File was
  * not uploaded.' in /lib/Varien/File/Uploader.php:139
  * Fixed MAGE-642: incorrect design for the order with gift card
    * Fixed on Order Review page
    * Fixed on Multiple Addresses Order Review page
    * Fixed on Shopping Cart page
    * Fixed in Magento Pro theme
    * Reviewed fixes for cross-browser compatibility
    * Fixed wrong hyphenation of Gift Card Code in IE6 and IE7 on Shopping
    * Cart page
    * Fixed vertical alignment of removal button in Safari 5 on Shopping Cart
    * page
  * Fixed MAGE-678: Set the same column font size as in cells in PDF documents
  * printing
  * Fixed MAGE-665: Home page appears instead of predefined 404 page
  * Fixed MAGE-628: Removed converting of "is one of" and "is not one of"
  * values in decimal
  * Fixed MAGE-679: Wrong column type for order_increment_id on Invoice,
  * Shipments, Creditmemo grids
     * order_increment_id was setted as "text" instead of "number" type
  * Fixed dependence of Mage_Adminhtml_Block_Sales_Order_Creditmemo block from
  * 'canCapture' 'canCapturePartial'. It was changed to 'canRefund'
  * 'canRefundPartialPerInvoice'. For set result of
  * Mage_Adminhtml_Block_Sales_Items_Abstract::CanEditQty`s we can use
  * setCanEditQty
  * Fixed MAGE-483: Inconsistency with credit memos
  * Fixed MAGE-675: PayPal Express shortcut is missed on product page
  * Fixed MAGE-601: Google checkout notifications duplicate orders or
  * double-process them on timeouts
  * Fixed MAGE-712: An email is sent to a customer after its profile is edited
  * in the Admin panel
  * Fixed MAGE-690: Fatal error during get tracking popup Url
  * Fixed MAGE-707: Added Maestro/Switch and Solo Dollars card types for
  * paypal_direct payment method. Also removed Maestro/Solo/Switch card type
  * for this method
  * Fixed MAGE-658: Wrong Reward Points process during creditmemo creation
  * Fixed MAGE-720: Using filters on Billing Agreement Related page leads to
  * fatal error
  * Fixed MAGE-731: Payflow Pro includes only the first line of
  * billing/shipping addresses into request
  * Fixed MAGE-730: Incorrect showing of product page when inputing a product
  * description with table which have attribute align = left
  * Fixed SUP-69: [Eram ] Many "SQLSTATE[HY000]: General error: 1205 Lock wait
  * timeout exceeded; try restarting transaction"
  * Fixed MAGE-735: All the following customer attrubutes being created are
  * populated with the values entered in the attribute that has been created
  * as the first one
    * cause of the bug in same value of $timestamp for several attributes date
  * Fixed MAGE-732: Information about reward points discount for the order is
  * not displayed at the credit memo
  * Fixed MAGE-708: for Invoices, Shipment, Credit Memos added possibility to
  * show admin comments at user frontend (checkboxes "Visual on Frontend" in
  * admin interface)
  * Fixed MAGE-740: "Notice: Undefined property:
  * Mage_Catalog_Model_Template_Filter::$_useAbsoluteLinks " when you use
  * WISIWYG Editor for field "Description"
  * Fixed MAGE-736: Website PayPal Standard payment method is not working with
  * Reward Point, Store Credit and gift Cards
    * paypal/cart model: fixed logical error of validating totals -- should be
    * ">" instead of ">="
  * Fixed MAGE-586: Gift registry update emails are not sent if you purchase
  * items from multiple gift registries and use checkout with multiple
  * addresses
  * Fixed MAGE-664: Category and product design settings inheritance
  * Fixed MAGE-177: wrong link for bestsellers in admin dashboard. Grids.php
  * fixture doesn't do anything for this bug - just to beautify code
  * Fixed MAGE-728: Tax does not calculate for Downloadable product in
  * purchase it through PayPal Express Checkout
    * was added assigning customer to quote when PayPal Express checkout
    * started
  * Fixed MAGE-591: Fixed paypal direct refund transaction id transferring
  * through Payment Bridge
  * Fixed MAGE-739: Surch suggestion are not showed if there are more than one
  * suggestion
    * 'spellcheck.count' parameter was ommited in solr suggestion query
  * Fixed MAGE-755: Empty dropdown 'status' at the creation New Review Grid
  * Fixed MAGE-746: Incorrect work of "Recently Compared Products" functional
  * on category's page
  * Fixed MAGE-766: when having single store, javascript raises exception and
  * all followed code is not executed
  * Fixed MAGE-761: Special price for dynamic bundle applies twice
  * Fixed MAGE-762: returned Preview button to newsletted templates, added
  * support for single-mode shops in template previews (during edit and from
  * list of templates), fixed wrong description and method names in template
  * controller
  * Fixed #21960: Labels in page/html_wrapper and core/text_list in layout
  * Fixed MAGE-767: Added support of pending transaction to payflow pro. Also
  * fixed "denied payment review" message in payment
  * Fixed MAGE-760: Removed "Shipping address" block on recurring profile view
  * page if product is virtual. Also fixed virtual order detection
  * Fixed MAGE-677: Fixed GUI bugs on Recurrent Profile frontend part
  * Fixed MAGE-231: Suspend Recurring Profile from front side leads to error
  * Fixed MAGE-775: The pager is missing for tagged product list
  * Fixed wrong profiler output for getUrl in Category
  * Fixed MAGE-776, MAGE-777: Fixed saving of billing agreement relation with
  * order - added force billing agreement resaving and fixed isValid method in
  * agreement detection
  * Fixed MAGE-771: Removed fatal error on PHP 5.2.4 while setting stores in
  * PBridge payment methods
  * Fixed MAGE-757: Incorrect sort order reliable on mysql internal order
  * during eav attribute load
    * move prepare select to separate method
    * fixed passing additional totals to PayPal when cart line items are
    * disabled
    * simplified paypal/abstract api to just set the paypal/cart instance and
    * the needed configuration settings
    * moved workarounds of setting shipping and discount totals as line items
    * into the appropriate APIs: WPS and NVP
	* removed redundant variable from rev 75327 which was obsoleted by rev
	* 75765 and replaced by _lineItemTotalExportMap
  * Fixed MAGE-808: Module Enterpise_WebsiteRestriction restricts access for
  * payment callbacks
  * Fixed MAGE-795: In My product Review short description HTML tags are shown
  * Fixed MAGE-780: Added catalog_product table definition to product review
  * collection
  * Fixed MAGE-88: Refund from google chekout don't display on the order in
  * Magento
  * Fixed #MAGE-799: "Compare Products" block does not appear on the category
  * page and product page
  * Fixed #MAGE-794: Shoping cart view is incorrect
  * Fixed MAGE-397: Changed type of obscure input field to 'password', so this
  * field is hidden even when user enters data in it
  * Fixed MAGE-778: Removed dependence to payment method on getting billing
  * agreement method title. For now payment method title stored in billing
  * agreement
  * Fixed MAGE-796: Removed invoice creation thought zero subtotal checkout
  * with new order status "pending"
  * Fixed MAGE-835: SOAP-ERROR: Parsing Schema: can't import schema from
  * 'http://schemas.xmlsoap.org/soap/encoding/'
  * Fixed MAGE-814: Custom option prices for simple products are GLOBAL
    * added website price scope for bundle items.
  * Fixed MAGE-810: Reward Points for Newsletter Subscriptions works
  * incorrectly
  * Fixed MAGE-840: Non-existing attribute's source model causes fatal error
  * Fixed MAGE-831: Expired password recommendation change link doesn't
  * contain secret key
  * Fixed MAGE-805: Change of store view works as viewing of the text of
  * newsletter
    * removed store switcher from template edit page
    * implemented template preview per store
  * Fixed MAGE-773: References of "Reward Points Balance" do not work
  * (backend)
  * Fixed MAGE-813: Reward Points configuration allows to save negative values
  * in "Minimum Reward Points Balance to be able to Redeem" field
  * Fixed MAGE-747: gift card cannot be added from wishlist to cart
  * Fixed MAGE-836: ID missing in the URL
  * Fixed MAGE-845: SOAP webservices do not work when enabling "Add Store Code
  * to URLs"
  * Fixed MAGE-809: Incorrect displaying of the Start Date entered by customer
  * while adding to the cart recurring product
  * Fixed MAGE-737: Downloadable Product "lable" typo
  * Fixed MAGE-758: while creating gift message from backend it disappears in
  * case of refreshing page
  * Fixed MAGE-817: Starting slash in categories url rewrite
  * Fixed MAGE-782: Product export fails when the quantity of exported
  * products is 25 000 or more (memory leak in products)
  * Fixed MAGE-90: Google Chekout: Discount for shipping amount doesn't apply
    * onepage checkout recalculates shipping charges after setting the payment
    * method (not solved yet in multishipping)
    * added warning about Carrier Calculated Shipping in Google Checkout
    * system configuration
    * GC API callback now sets the payment method to quote on requests
    * the free shipping calculator now marks the entire address as "free
    * shipping" if all its items have free shipping
  * Fixed MAGE-850: Gift Card product price is not visible at product view
  * when Category Permissions disallow only adding to cart
  * Fixed MAGE-858: On wide monitors checkbox "Create Permanent redirect" in
  * admin backend wraps up to the end of input box
  * Fixed MAGE-821: Tag isn't showed in Product Page and My account->My Tags,
  * if tag are deleted by customer, approved by administrator, added by
  * customer
  * Fixed MAGE-815: Non standard images make troubles with "Next"/"Previous"
  * buttons
  * Fixed MAGE-756: There is no validation of the Tracking number field during
  * first time creation of the shipment
  * Fixed MAGE-432: Incorrect handling of JSON decode results in
  * Enterprise_Cms
  * Fixed MAGE-854: Missed dollar sign in variable name
  * Fixed MAGE-797: Incorrect escaping of
  * Mage_Catalog_Model_Abstract::loadByAttribute method
  * Fixed MAGE-709: Catalog Rules and Sales Rules don't handle dates in future
  * correct
  * Fixed MAGE-774: Frontend backward compatibility issue
  * Fixed MAGE-513513: "URL rewrites duplicating when assigning to root
  * category" and other bugs as commented in MAGE-513
  * Fixed MAGE-883: Fixed reward rate detection
  * Fixed MAGE-876: Shipping method UPS_XML missing titles
  * Fixed MAGE-851: Report > Products Ordered ignores Store view switcher
  * Fixed MAGE-891: Flat catalog index problem after upgrade with
  * customizations present
  * Fixed MAGE-896: Free shipping doesn't work in table rates shipping method
    * removed Enterprise_PageCache_Model_Container_Urlsid
    * introduced non-standard helper Enterprise_PageCache_Helper_Url with
    * static methods only
    * marker replacement attempt is performed independently from presence of
    * marker in particular page content (it's a single str_replace() call and
    * it takes nearly 0.001 sec)
	* prevent useless attempts to substitute non-existing SID markers when
	* whole content is loaded from the cache
  * Fixed MAGE-895: Incorrect bundle items inventory decrements
  * Fixed MAGE-664: Category and product design settings inheritance
  * Fixed MAGE-768: Removed fatal error on removing non existent quote item
  * from quote
  * Fixed MAGE-898: Credit Card Maestro/Solo: The field "Start Date" is not
  * displayed on order information page
    * deleted unused Maestro/Solo from Payment module config
    * moved Maestro/Switch and Solo card definition from Chronopay to Payment
    * module config
    * deleted Meastro/Switch definition with incorrect code MS from
    * Cybersource module config
    * fixed logic of showing "Issue number" and "Start Date" of Switch/Solo
    * card on frontend
  * Fixed MAGE-806: warning about offline refund
  * Fixed MAGE-901: Mage_Checkout_Block_Cart_Item_Renderer::getIsInStock bug
  * Fixed MAGE-827: Fatal on edit configurable product page, if custom
  * required price attribute is used
  * Fixed MAGE-889: View invoice error with changed query string
  * Fixed MAGE-710: don't show (-) in totals when shipping title and shiping
  * method empty in a configuration
  * Fixed MAGE-874: Trailing semi-colon displayed on Profile Export page
  * Fixed MAGE-884: New Orders & Other Authenticated RSS feeds should use
  * HTTPS
  * Fixed MAGE-909: dataflow export products sku filter works as not "starts
  * with", but "like"
  * Fixed MAGE-801: Removed default shipping address assign on paypal express
  * checkout
  * Fixed MAGE-581: The customers from Puerto Rico can't pay with PayPal
  * (Express Checkout in PaypalUk)
  * Fixed MAGE-751: Shared shopping cart on the stores with different domains
  * Fixed MAGE-878: Dublicate of a product creates it with no SKU value and is
  * saved
  * Fixed MAGE-718: "Impossible to change State/Province field in the customer
  * address in admin". Plus some other bugs and codestyle issues
  * Fixed MAGE-890: Logging module architecture defects
  * Fixed MAGE-880: Discount amount for the whole cart divide proportionally
  * between all affected items according to their base price and then applied
  * Fixed MAGE-859: Removed store selector in single store mode on url rewrite
  * edit page
  * Fixed MAGE-911: Javascript validator's translation strings missing
  * Fixed MAGE-879: Quick Search Autocomplete does not work via ajax http
  * protocol for https page
  * Fixed MAGE-459: Inventory->Qty Increments - unable to add
  * Fixed MAGE-918: "Telephone" attribute from "Manage Customer Address
  * Attributes" option required values to "No" (in website level) from the
  * backend will not effect anything on the frontend
  * Fixed MAGE-905: Added urldecoding for request strings like
  * '/xmlconnect/catalog/search/query/Test%20prod'
  * Fixed MAGE-869: Solr search -> search by special price isn't work
  * Fixed MAGE-906: Customer Attributes Value does not save when "Show on
  * Frontend" is set to "No"
  * Fixed MAGE-920: Loading search query performance issue
  * Fixed MAGE-885: Using compiler. Error at search results page (Solr)
  * Fixed MAGE-924: Changed labels in checkout and payment information blocs
  * for credit cards Solo Maestro Switch
  * Fixed MAGE-910: Product q-ty doesnt decrease after google checkout
    * added same 'checkout_submit_all_after' event to  AmazonPayments
    * removed 'TODO' notice from Multishipping Checkout, because current
    * scheme is better and will not be influenced by any Multishipping
    * refactoring
    * fixed Observer reaction on 'checkout_submit_all_after' to include needed
    * reindexing
  * Fixed MAGE-772: Disabling product attribute usage in promo rules not
  * affect existing promo rules
  * Fixed MAGE-912: Google Analytics tracking pages with wrong URI:
    * Added checkout_multishipping_controller_success_action and
    * checkout_onepage_controller_success_action events that pass the created
    * order ids on frontend checkout success actions
    * Completely reimplemented googleanalytics/ga block:
      * it doesn't depend on session/quote, but just uses order_ids, if passed
      * the page_name parameter is reimplemented as it was intended to be: an
      * optional parameter that can be customized via layout for certain
      * actions
      * moved out the integration part with google checkout to observer
      * eCommerce tracking passes shipping address instead of the billing
      * address, if available
      * replaced the "affiliation" into store frontend name in eCommerce
      * tracking (as it is intended to be)
      * eliminated passing order item "category" in eCommerce tracking (that
      * never existed)
      * optimized javascript code of GA with Google Checkout integration
    * Eliminated mutual code coupling between Google Analytics and Google
    * Checkout modules
      * Improved integration of Google Analytics and Google Checkout:
      * the GA integration should appear only when GC buttons are available
      * there will be no integration when there is no GA tracking code
      * configured
      * the GA/GC integration seems like wasn't working because there was no
      * pageTracker js variable accessible to the GC scripts
  * Fixed MAGE-940: Redundant catalog product attribute "category_ids" remains
  * during upgrade from 1.3 to 1.9
  * Fixed MAGE-935: Wrong links in backend to "New Products/Low Stock/Customer
  * reviews" RSS feeds
  * Fixed MAGE-862: 0023184: Huge memory consumption on flat shipping rates
  * import
    * Added export setting in Grid
    * Added Shipping Carrier Table Rate Grid for Export CSV file
    * Optimized and refoctored Table Rate import
  * Fixed MAGE-947: SOLR -> standalone product couldnt be found by search at
  * it's website
  * Fixed MAGE-903: Reports / Customers / Customer Segments report
  * optimization
    * made according to
    * http://dev.mysql.com/doc/refman/5.0/en/in-subquery-optimization.html
    * grammar correction
  * Fixed MAGE-950: "Send auto-generated password" generates e-mail with
  * incorrect template
  * Fixed MAGE-952: Unable to refund Credit Memo because of Shipping Rounding
  * Fxied MAGE-942: fixed caching of rate requests, implemented in rev 75811
    * main fix of rounding issues
  * Fixed MAGE-673: Added custom option info to recurring profile info page on
  * frontend and backend
  * Fixed MAGE-828: Created extension archive throught Magento Connect include
  * ".svn" directories
  * Fixed MAGE-939: Several press Duplicate button makes several comands
  * Fixed MAGE-863: Version of downloader is not correct
  * Fixed MAGE-833: Link title "My Cart" and "Wishlist" contain tag <small>
  * Fixed MAGE-931: Product Visibility and Status disappear when in search
  * Fixed MAGE-703: Magento Connect -> MCM -> User should has a possibility to
  * choose version for extension upgrade
  * Fixed MAGE-963: Removed validation of new customer shipping address on
  * backend for orders with virtual products only
  * Fixed MAGE-967: Custom design is not reset properly after shipment comment
  * emails
  * Fixed MAGE-948: Tax report displays incorrect figures
  * Fixed MAGE-631: Removed invoice creation on "completed" IPN message with
  * payment_entity = "auth" to prevent double capture creation on single
  * transaction with IPR
  * Fixed MAGE-962: "Slash for category or product urls causes error 404" -
  * Fixed, optimized rewrite selection from DB, added urlrewrite and suffix
  * validation at admin backend
  * Fixed MAGE-971: Image browser in WYSIWYG editor doesn't fill mouse
  * over/out fields
  * Fixed MAGE-957: Added rounding to "Refund Shipping" field on credit memo
  * creation page
  * Fixed MAGE-978: WYSIWYG editor breaks directives that are not in src
  * attribure
    * fixed directives decoding for a case when the secret key is present in
    * URLs
  * Fixed MAGE-958: Added additional error messages to customer address
  * validation on PHP side while creating.
  * Fixed MAGE-964: "No server side check for password length when customer
  * edits his account information"
  * Fixed MAGE-976: Rule-based upsell not working with multiple constant
  * values
  * Fixed MAGE-902: Reports/Shopping cart/Products in carts optimization. 
    * Rewriting sql-query from scratch
    * Add indexes for SQL optimization
    * increace module version
  * Fixed MAGE-977: Scrolling during category load results in some js-errors
  * Fixed MAGE-946: Added exporting to csv and xml for sales archive orders
  * grid
  * Fixed MAGE-970: "If all Storeviews value set up - disabled --> Front end
  * shows default storeview instead of 404 page"
  * Fixed MAGE-617: Magento Connect -> MCM -> User shouldn't be able to
  * download Magento into "0000 permissions" folders
  * Fixed MAGE-823: Add the Recurring Profiles tab in customer management
  * Fixed MAGE-960: Field labels and field values are not alligned vertically
  * on Sales Orders in Admin
  * Fixed MAGE-959: Spacing between field labels and field values is
  * inappropriate on the Recurring Profiles tab in My Account section
  * Fixed MAGE-846: standalone product couldnt be found by search
  * Fixed MAGE-983: Magento Connect -> Package extensions-> JS validation is
  * absent for "Authors" tab
  * Fixed MAGE-1145: Full Page Cache looses Customer Session when visiting
  * cached pages only
  * Fixed MAGE-1123: Added error on zero subtotal checkout with paypal
  * express. Removed paypal express button on shopping cart with zero grand
  * total
  * Fixed MAGE-968: Not searchable attributes are searched by Quick search.
    * Checking if attribute used in quick search before adding to fulltext
    * field
    * fixed bug deleting several categories
  * Fixed MAGE-1147: Sort products by Name leads to error
  * Fixed MAGE-1151: coupon_code attribute inconsistency in some upgrade paths
  * Fixed MAGE-975: Mage_Customer_Model_Customer::getGroupId can't return zero
  * value
  * Fixed MAGE-899: related fixture - wrong and unneeded service code in XML
  * request
  * Fixed MAGE-1161: "Javascript alert on "manage category" page"
  * Fixed MAGE-1163: Security Vulnerability on Mage_Core_Block_Template level
  * Fixed MAGE-1154: Merged CSS breaks Secure Pages (https)
  * Fixed MAGE-981: Magento Connect -> MCM -> "Settings" tab -> data doesn't
  * saved
  * Fixed MAGE-989: Magento Connect -> MCM -> "Settings" tab -> Incorrect
  * error message
  * Fixed MAGE-982: Magento Connect -> MCM -> "Settings" tab -> Changes don't
  * saved
  * Fixed MAGE-1089: 0018454: Import profiles do not reset websites values
    * Fixed MAGE-1164: "Allow Gift message" setting on the product page
    * doesn't work in Front
  * Fixed MAGE-1175: Fixed reccuring product checkout with zero grand total
    * Added checkout button to cart.
  * Fixed MAGE-1060: "Cart Price Rule not working with Product Attributes"
  * (boolean values not properly shown in rule conditions)
  * Fixed MAGE-1158: SOLR setted filters in layered navigation have no
  * influence on price filter ranges calculation
  * Fixed MAGE-1156: "Duplicate" of bundle product leads to an error
  * Fixed MAGE-1149: Catalog sitemap for categories shows inactive sub
  * categories if flat catalog enabled
  * Fixed MAGE-1179: Customer Attributes Edit Form: Multiselect element
  * behaviour when all values deselected
  * Fixed MAGE-1128: Wrong amounts invoiced with FPT
  * Fixed MAGE-769: Wrong order status after refund and additional related
  * issue on frontend during checkout (MAGE-1128 holds description)
  * Fixed MAGE-1153: Magento Connect ->Magento installation->"Configuration"
  * step - server validation is absent
  * Fixed MAGE-1186: Unable to delete uploaded sample for downloadable product
  * Fixed MAGE-1169: Magento Connect -> MCM -> "Log in" page - Message or some
  * information about required fields doesn't appeared
  * Fixed MAGE-1146: Trace error during merging Websites
  * Fixed MAGE-944: CatalogSearch_Fulltext not being renewed for configurable
  * products when editing attached simple products
  * Fixed MAGE-781: Paypal Direct send wrong billing address to API
  * Fixed MAGE-936: Reward points warning email doesn't contain customer name
  * Fixed MAGE-1172: Backordered Item Status on Orders
  * Fixed MAGE-1057: Incorect viewing of category settings after refreshing
  * page
  * Fixed MAGE-1168: Catalog price rule discount not working during backend
  * order creation
  * Fixed MAGE-1171: User rights on Manage Categories
  * Fixed MAGE-1209: Solr connection testing not working as expected
  * Fixed MAGE-1212: Fatal error when trying reindex data in EE Search Indexer
  * Fixed MAGE-1088: Configurable Product Catalog Price Rule Issue
    * the main idea is to calculate price rule on configurable price
    * separately from base price
  * Fxied MAGE-1207: Double "frontend" cookie set
  * Fixed MAGE-972: Incorrect behaivior during extension reinstall
  * Fixed MAGE-1229: XSS issue in address form
  * Fixed MAGE-1232: An address in the customers address book cannot be
  * deleted
  * Fixed MAGE-1205: Merged sales archive orders to customer grid orders on
  * backend
  * Fixed MAGE-1233: Wrong timezone/DST in reports
  * Fixed MAGE-1160: Magento Connect ->Magento installation->"Configuration"
  * step - incorrect message appeared
  * Fixed MAGE-1237: The label for the configurable product attribute does not
  * reflect correctly on the frontend
  * Fixed MAGE-1184 Unable to Merge and to Unschedule Merge for Staging
  * Websites
    * changed outdated catalogindex flag locking mode to indexer locking
  * Fixed MAGE-1239: Disabling output for module "Enterprise_GiftRegistry"
  * from system-advanced removes the "Wishlist" functionality
  * Fixed MAGE-1195 Unable to create 'Shopping Cart Price Rule'
    * setActualProductAttributes method was called with 'attribute_set_id'
    * value in $attributes param. But it does not exist in 'eav/attribute'
    * table. So we need to check it
  * Fixed MAGE-1243: Fixed customer group detection in reward points module
  * and quote while creating customer from backend with other customer group.
  * Fixed MAGE-1247: Customer Segment "Up to Date" Condition Logical Inversion
    * inversed the meaning of selection options in
    * Enterprise_CustomerSegment_Model_Segment_Condition_Uptodate
    * limited the list of available options to <=, >=, <, > -- because others
    * don't make sense
  * Fixed MAGE-1194: RSS feed "Special products" complete refactoring
  * Fixed MAGE-1181: Catalog-specific attribute options do not load when using
  * through catalog/output helper
  * Fixed MAGE-1245: Banner Rotator Widget sort exceptions
  * Fixed MAGE-1190: Customers won't appear in the search results on the
  * customer grid in the admin
  * Fixed MAGE-1252: Mage_Customer_Model_Attribute::setValidationRules() isn't
  * returning $this
  * Fixed MAGE-1217: Config fields "Disable output" doesn't implement
  * inherited value
  * Fixed MAGE-1246: Reward points history (backend) -> lines liked as
  * clickable
  * Fixed MAGE-1236: CMS pages with Same URL are not Updated Properly with
  * Staging Merge:
    * added adapter for CMS pages and resource model to service such requests
    * on merge and rollback staging data
  * Fixed MAGE-1235: Category created for some store view not displayed on
  * frontend
    * include_in_menu attribute was made as required to set default value when
    * category created in specified store
  * Fixed MAGE-1244: Incorrect base URL for staging sites
  * Fixed MAGE-1192: Overrided getPaypalTransactionId method in PE API -
  * changed transaction id getting to process payflow accounts not assigned to
  * paypal side
  * Fixed MAGE-1230: Shipping information is not displayed in backend after
  * Google Checkout operations
  * Fixed MAGE-1177: Fatal error during import large file
  * Fixed MAGE-894: Added "Switch/Maestro" card type support to centinel 3DS
  * validator. Added comment about maestro and 3d-secure to paypal system
  * config
  * Fixed MAGE-1204: Magento Connect Manager -> Settings-> "Magento Connect
  * Channel Protocol" set to FTP
  * Fixed MAGE-1255: Incorrect qty increment behaviour
    * qty increment not decimal validate
    * when adding product with qty increment to cart - redirect to product's
    * page
    * generate message about mismatch of qty increment when editing item qty
    * at cart
  * Fixed MAGE-1226: MCM for Enterprise -> Checking community extension
  * Fixed MAGE-1265: Field Mapping Issue during customer import
  * Fixed MAGE-1267: CMS blocks grid inoperable with store filter in
  * GWS-limited mode
    * implemented cms blocks and pages collections to add a queued store_id
    * filter
    * requires rev 82055
  * Fxied MAGE-1268: E-mail issues: multiple e-mails and credit memo template
    * added ability to pass multiple recipient emails and names to
    * Mage_Core_Model_Email_Template::send()
    * fixed typo in creditmemo email template
  * Fixed MAGE-765: ups/usps and Guam
  * Fixed MAGE-1201: Issues with attaching product to multiple stores
    * refresh product index query update
  * Fixed MAGE-1254: Solr: Product with price equal to max price in layered
  * navigation doesn't belong to any price range
    * the highest price range calculation changed
  * Fixed MAGE-1275: With enabled Layered Navigation product does not
  * displayed on category page
    * stat component login implemented for PhpExtension adapter
    * code styling
  * Fixed MAGE-1270: Solr suggestion gives not correct suggestion result
    * lastNumFound reset in foreach cycle
  * Fixed  MAGE-938: Reward points system configuration text proofreading


==== 1.9.0.0 ====

=== Major Highlights ===
  * Included Magento Connect Manager.
  * Added Gift Registry functionality
  * Added Payment Bridge integration
  * Managment for customer and address attributes
  * Extended 3rd-party search engine integration with Solr for catalog navigation
  * Implemented Full Page Caching for logged in customers

=== Improvements ===
  * Favicon managment through backend configuration
  * Ability to disable charts on backend dashboard
  * Added suggestions fucntionality to 3rd-party search engine integration with Solr 
  * Implemented ability to define custom price ranges for layered navigation per category
  * Upgraded TinyMCE to v.3.3.7
  * Improved PayPal integration, includes:
    * Recurring payment profiles entity and purchasing of "subscription" products. In checkout they are treated as "nominal" items.
    * Billing agreements
    * "Pending Review" order state, "Pending Review" and "Suspected Fraud" order statuses and logic related with this. Triggers by PayPal IPR, FMF and Unilateral payments.
    * Functionality of transactions listing/searching and fetching from gateway
    * Fetching PayPal settlement reports via SFTP
    * Various improvements of PayPal integration on the frontend and admin UI
  * Added notice about creating offline creditmemo from order view page.
  * Added getter for recurring payment methods in payment helper.
  * Implemented abstract block ability to have arbitrary groups of child blocks and a method that returns such a group. Implemented a method that fetches data from child block by specified alias.
  * Implemented ability to specify "sort_order" instead of "before" and "after" in the totals declaration. All nominal totals declaration utilize "sort_order"
  * Added getter for specified object data by key in core/template block: method getObjectData()
  * Defined payment methods grouping, implemented getter for payment method list (with option to group them). Added ability to render grouped options in the "select" grid filter.
    * Moneybookers: utilized the payment methods grouping for all its methods; removed redundant "translate" attribute in the methods definition in config.
    * Utilized payment methods grouping for PayPal peyment methods.
  * Added more verbosity to PayPal NVP and IPN debugging
  * Design packages and themes optimization/refactoring/improvement. 
     - eliminating differences between enterprise/default and base/default templates by removing redundant templates from enterprise/default and merging changes from enterprise/default to base/default templates
     - minor improvements and fixes
     - improved upgrade-ability of CE themes to enterprise edition
  * Add "Test Connection" button under solr configuration  

=== Changes ===
  * Re-factoring of validation states for Centinel. Added template method Mage_Centinel_Model_StateAbstract::isLookupSuccessful.
  * Reimplemented frontend top menu rendering logic (cross-browser and usability improvements)
  * Reviewed [logic of the sales reports|http://www.magentocommerce.com/wiki/doc/sales_reports_specifications]: Orders, Tax, Invoiced, Shipping, Refunds, Coupons
  * Reimplemented bestsellers report
  * (!) Changed Shopping cart methods output (top + bottom): removed <li>-dependance from templates in other modules \-> moved to Checkout module
  * Moved the Payflow Pro payment method to PayPal module
  * Refactored sales/service_quote model: instead of submit() method the submitAll() should be used. It can submit nominal items separately from the order. The methods for submitting nominal items and order   separately - are available as well.
  * Refactored onepage checkout model to use the new method sales/service_quote::submitAll(), added recurring profiles and billing agreements passing through the process until the success page
  * Utilized child blocks grouping to improve flexibility of rendering additional information in catalog/product/view template. The group is called "detailed_info"; any block from layout may insert itself to this group.
  * Removed redundant wrappers hard-coded into some catalog templates. Template of parent block is responsible for wrapping.
  * Refactored onepage checkout success block and template: simplified fetching related checkout information, added ability to render billing agreement and recurring profiles that might be created with the payment placement.
    
=== Fixes ===
  * Fixed MAGE-136  The bottom part of the list "Payment Method" in SCPR has too much free place.
  * Fixed MAGE-648  Unit Price Tax with settings applying customer tax "After Discount" calculate does not correctly.
  * Fixed MAGE-653  Solr can not search by the multiple attribute.
  * Fixed MAGE-623  Product's QTY does not decremented after multishipping.
  * Fixed MAGE-551  Physical Gift Card product is not added to the Gift registry.
  * Fixed MAGE-359  Print-All Includes Tracking # from All Shipments on Every Shipment.
  * Fixed MAGE-626  Applying Rule which based on recently deleted attribute leads to Fatal error.
  * Fixed MAGE-574  Payment methods titles for the PDF prints through admin gets from default config instead of the storeview config.
  * Fixed MAGE-635  Added CVV validation for SOLO cards.
  * Fixed MAGE-558  Status is "Ready" istead to be "Reindex required" then creating new subcategory in mode "Manual Update".
  * Fixed MAGE-618  Gift registry contains no items if accessed from the share gift registry email sent from the Admin panel.
  * Fixed MAGE-608  Two registration emails from a wrong store and without a logo are sent when a customer is created in Admin panel.
  * Fixed MAGE-607  Phrase is not split to the search terms if they are exist on Solr.
  * Fixed MAGE-125  Refusal from Card Verification (through link Exit), does not allow to place order repeatedly.
    * If lookup was filed and customer tries again we will do new lookup.
    * If lookup was success and customer tries again without some changes we will not do new lookup.
    * If authentication was filed and customer tries again we will do new lookup and authentication.
    * If authentication was success and customer tries again without some changes we will not do new lookup and authentication.
  * Fixed MAGE-580  Product tagged by administrator has wrong URL at front-end.
  * Fixed MAGE-470  impossible to save category in store view scope.
  * Fixed MAGE-258  Fixed centinel JCB validation.
  * Fixed MAGE-151  "Transfer Shipping Options" pass on PayPal side not correct value for Flat Rate method.
  * Fixed MAGE-485  After order placing failed, during second try of order placing, customer redirect to the empty shopping cart instead of the Order review page.
  * Fixed MAGE-613  Using filter "Created At" on Transactions page leads to SQLSTATE error.
  * Fixed MAGE-147   PayPal and Puerto Rico shipping address
  * Fixed MAGE-577   Fixed leakage of product prices on the frontend when there are catalog restrictions on hiding product prices
     * added getter for information whether the price is visible for the product
     * product price won't be rendered on the frontend if the product price is not visible
     * distinguished isSaleable() and isAvailable() concepts for the product
     * fixed up translation strings usage in the mentioned templates
  * Fixed MAGE-578   Fixed rendering of the product alert links with catalog restrictions effective
     * productalert/price and productalert/stock blocks and templates are deprecated, use productalert/product_view
  * Fixed MAGE-189   All free shipping methods in absent in Transfer Shipping Options menu on PayPal side
  * Fixed MAGE-564   Product which have status "Out of Stock" can be purchased through a direct link on button "Checkout with PayPal"
  * Fixed MAGE-472   Inventory->Threshold -> any popup message doesn't appeared on the frontend
  * Fixed MAGE-219   Necessary to add data validation for filed "Trial Billing Frequency" in Recurring Profile
  * Fixed MAGE-487   Fixed JCB centinel card strict lookup results validation.
  * Fixed MAGE-257   UPS with PayPal: An error while trying to create a partial online refund
  * Fixed MAGE-261   After placing order through PayPal, shopping cart and mini-cart still displayed 1 item
  * Fixed MAGE-545   After adding tracking number, information does not appears in tab "Shipments" on frontend
  * Fixed MAGE-555   Added solo/switch fields to CC payment method form on backend and ccsaved form.
  * Fixed MAGE-552   Removed transaction closing after authorize, capture in verisign paybridge payment method.
  * Fixed MAGE-422   Added shipping address transferring on non guest checkout in Paypal Standart.
  * Fixed MAGE-86    PayPal admin setup: checkbox problem
  * Fixed MAGE-501   In case Allow Reorder=No, Reorder still available
  * Fixed MAGE-85    Fixed Maestro/Switch/Solo cards js validation on payment form: Added additional issue_number and issue_date checks.
  * Fixed MAGE-499   Added cvv field for Mastero/Switch/Solo cards. Also fixed html formatting.
  * Fixed MAGE-448   Duplication of error messages while adding to cart the product with enabled increments. It's full page caching issue.
  * Fixed MAGE-520   The page isn't redirecting properly while multishipping checkout as guest
  * Fixed MAGE-330   "-OR-" separator between EC shortcut and Proceed to Checkout button
  * Fixed MAGE-488   The product's "Stock Status" is not changed from "In Stock" to "Out of Stock"
  * Fixed MAGE-492   Qty of the product continues to decline when the "Decrease Stock When Order is Placed" is set to "No"
  * Fixed MAGE-489   If set "Manage Stock" to "No": Qty decreasing when product is ordered
  * Fixed MAGE-423   Added cancel() action to Payflow Pro payment method
  * Fixed MAGE-493   Only "No Payment Information Required" in the Payment Method grid should appear in case Gift Card amount covers the total order amount
  * Fixed MAGE-523   Fixed Invalid dates parsing (http://framework.zend.com/issues/browse/ZF-10090)
  * Fixed #21313: Display price including TAX
  * Fixed #21632: Associated products don't get cached
  * Minor bugfixes in 3D Secure integration (API debugging, improvements in css and javascript)
  * 3D Secure integraion - fixed confused constant values in centinel service model
  * Fixed autocomplete in year field on new user registration
  * Fixed _isCaptureNeeded validation for PayPal pro (exception during invoicing captured transaction)
  * Fixed typo in PayPal Direct API variable "AUTHSTATUS3DS" (error in official documentation)
  * Moneybookers:
    * fixed translations in the activation email
    * minor fixes in account confirmation javascript
    * Fixed #21752: Moneybookers configuration per store
  * Fixed #21302: PayPal PayFlow Pro: card expiration date format should be MMYY, not MMYYYY
  * Fixed #20932: unique key in catalog_product_link
  * Fixed #21031: Simultaneous product->save() causes "Base table or view already exists: 1050 Table catalog_product_index_price_idx' already exists
  * Fixed #20782: Wrong prices exc. tax with discount in cart
  * Fixed #21099: Wrong subtotal for manual order entry with manual price
  * Fixed #21271: Price inc tax and exc. tax same for grouped product
  * Fixed grid js object name in grid pager: now it uses block method instead of direct building
  * Fixed changing notification when editing a product in various tabs:
    * Downloadable products: links title (element had no id attribute and thus was omitted by the event dispatcher init code)
    * Custom options: whatever was added with "Add option"
    * Bundles: whatever was added with "Add option"
    * All date input fields when using the calendar widget
    * Prices: tiered prices box, all rows added with "Add tier"
  * Fixed #6321: Add RSS urls to head section
  * Fixed #21831: Tax Calculation Version 1.4.0.1 still incorrect
  * Fixed #12067: iPhone Terms and Conditions Box
  * Fixed #20631: Order totals when creating order from admin do not reflect currently selected currency
  * Fixed #21777: Catalog pricerules
  * Fixed #14591: Incorrect SKU for Configurable Product with Custom Options
  * Fixed #20832: PayPal Standard tax issue: implemented proper tax and discounts validation/transferring with cart line items
  * Fixed #17451: Header Links (top.links.phtml) does not output correctly because it is using the model code (the Toplinks block is deprecated)
  * Fixed #21302: PayPal PayFlow Pro: card expiration date format should be MMYY, not MMYYYY. Also fixed country code typo issue.
  * Fixed #21686: Typo in tag.xml
  * Fixed extra quoting in select html element
  * Fixed XHTML validation errors in admin in some places
  * Fixed #21912: calculation error transfer between multishipping address
  * Fixed typo in PayPal NVP API that caused impossibility to do partial captures
  * Fixed order taxes report with Match Period To = Order Updated Date (typo)
  * Fixed issue when invoiced and not shipped yet orders after cancelling becomes completed
  * Fixed #21533: Missing tranlation for "This date is a required value" in javascript
  * Fixed stock management checking for a stock item when the stock management is disabled for this item (the check should be bypassed)
  * Fixed "New Products" RSS: added grouped and bundle products
    * Fixed the feed so that it contains grouped products now
    * The feed now shows the same products as shown in category view or "New products" widget (before the fix, incomplete products might be shown)
  * Fixed: virtual / downloadable product isn't deleted from the shopping cart, if change qty to '0'
  * Fixed #21866: 'Master Card' misspelling, should be spelled 'MasterCard' in credit card drop down options in checkout
  * Fixed #21771: Adjustment Refund & Adjustment Fee not showing in View Credit Memo
  * Fixed admin timeout issue inside iframe of Centinel validation
  * Fixed/reviewed tax calculation for components:
    * shipping price including tax in checkout process block
    * order/invoice/creditmemo shipping incl tax calculation
    * applied tax saving for shipping tax
    * applied tax saving for shipping tax
  * Fixed #16577: Dual Order with same Product
  * Fixed: #14502: Newsletter un-subscription message on customer account inappropriate
  * Fixed issue when product quantity was incorrectly updated in stock after an order is placed for a configurable and a bundle products
  * Fixed #20697: wrong url rewrite resource model
  * Fixed duplicating of coupon code in shopping cart view
  * Fixed Catalog RSS feed showing prices including and excluding tax
  * Fixed #21501: Problem with translate inline and translations
  * Fixed setting URL key when using quick-create for simple products of the configurable.
  * Fixed adding comments to sales documents (invoices, shipments, credit memos)
  * Fixed #21816: Google Analytics Issue with Registration Checkout and Already Logged In
  * Fixed issue with number of orders that were created by Google Checkout
  * Fixed #22199: Duplicated Code - Useless Check
  * Fixed applied tax saving for shipping tax
  * Fixed issue that invoiced orders after cancelling become completed
  * Fixed #21533: Missing tranlation for "This date is a required value" in javascript
  * Fixed: Sales report last update date doesn't change after re-aggregating
  * Fixed rounding special price of selections in bundle product view
  * Fixed one day forward shift of dates in sales reports when showing empty rows
  * Fixed missed calculation of base_total_canceled & total_canceled fields on order cancellation
  * Fixed wrong calculation of base_discount_canceled & base_discount_canceled because of negative values of base_discount_amount in the sales order tables
  * Fixed #22490: .Biz domain email addresses cause checkout to throw error and return to main Checkout page. Fixed path argument passed to include function in Zend_Validate_Hostname::isValid() to be valid whether source code compiler is used or not
  * Fixed Negative value in Shopping Cart in case Tax Calculation Method Based On Unit Price
  * Fixed Subtotal (Incl.Tax) = -$0.01 during created credit memo with refund shipping
  * Fixed: 100% discount of products -> the amounts of Tax and Grand Totals are or negative or not corectly
  * Fixed #21225: catalogProductUpdate / catalogProductCreate and tier_price attribute
  * Fixed #16596: category.assignedProducts always returns an empty result
  * Fixed js reference to non-existing element when CVV verification disabled and gateway supports SS-type credit cards

=== Known Issues ===
  * PayPal and Payflow pro modules are officially backwards incompatible.

=== Upgrade Path ===
  * Once upgraded, go to system configuration section and re-enter all PayPal-related settings carefully. Make sure to specify the proper merchant country and email.




==== 1.9.0.0-rc3 ====

=== Major Highlights ===
  * Included Magento Connect Manager.
  
=== Changes ===
  * Re-factoring of validation states for Centinel. Added template method Mage_Centinel_Model_StateAbstract::isLookupSuccessful.
    
=== Fixes ===
  * Fixed MAGE-136  The bottom part of the list "Payment Method" in SCPR has too much free place.
  * Fixed MAGE-648  Unit Price Tax with settings applying customer tax "After Discount" calculate does not correctly.
  * Fixed MAGE-653  Solr can not search by the multiple attribute.
  * Fixed MAGE-623  Product's QTY does not decremented after multishipping.
  * Fixed MAGE-551  Physical Gift Card product is not added to the Gift registry.
  * Fixed MAGE-359  Print-All Includes Tracking # from All Shipments on Every Shipment.
  * Fixed MAGE-626  Applying Rule which based on recently deleted attribute leads to Fatal error.
  * Fixed MAGE-574  Payment methods titles for the PDF prints through admin gets from default config instead of the storeview config.
  * Fixed MAGE-635  Added CVV validation for SOLO cards.
  * Fixed MAGE-558  Status is "Ready" istead to be "Reindex required" then creating new subcategory in mode "Manual Update".
  * Fixed MAGE-618  Gift registry contains no items if accessed from the share gift registry email sent from the Admin panel.
  * Fixed MAGE-608  Two registration emails from a wrong store and without a logo are sent when a customer is created in Admin panel.
  * Fixed MAGE-607  Phrase is not split to the search terms if they are exist on Solr.
  * Fixed MAGE-125  Refusal from Card Verification (through link Exit), does not allow to place order repeatedly.
    * If lookup was filed and customer tries again we will do new lookup.
    * If lookup was success and customer tries again without some changes we will not do new lookup.
    * If authentication was filed and customer tries again we will do new lookup and authentication.
    * If authentication was success and customer tries again without some changes we will not do new lookup and authentication.
  * Fixed MAGE-580  Product tagged by administrator has wrong URL at front-end.
  * Fixed MAGE-470  impossible to save category in store view scope.
  * Fixed MAGE-258  Fixed centinel JCB validation.
  * Fixed MAGE-151  "Transfer Shipping Options" pass on PayPal side not correct value for Flat Rate method.
  * Fixed MAGE-485  After order placing failed, during second try of order placing, customer redirect to the empty shopping cart instead of the Order review page.
  * Fixed MAGE-613  Using filter "Created At" on Transactions page leads to SQLSTATE error.




=== 1.9.0.0-rc2 ====

=== Improvements ===
  * Design packages and themes optimization/refactoring/improvement. 
     - eliminating differences between enterprise/default and base/default templates by removing redundant templates from enterprise/default and merging changes from enterprise/default to base/default templates
     - minor improvements and fixes
     - improved upgrade-ability of CE themes to enterprise edition
  * Add "Test Connection" button under solr configuration

=== Fixes ===
  * MAGE-147   PayPal and Puerto Rico shipping address
  * MAGE-577   Fixed leakage of product prices on the frontend when there are catalog restrictions on hiding product prices
                - added getter for information whether the price is visible for the product
                - product price won't be rendered on the frontend if the product price is not visible
                - distinguished isSaleable() and isAvailable() concepts for the product
                - fixed up translation strings usage in the mentioned templates
  * MAGE-578   Fixed rendering of the product alert links with catalog restrictions effective
                - productalert/price and productalert/stock blocks and templates are deprecated, use productalert/product_view
  * MAGE-189   All free shipping methods in absent in Transfer Shipping Options menu on PayPal side
  * MAGE-564   Product which have status "Out of Stock" can be purchased through a direct link on button "Checkout with PayPal"
  * MAGE-472   Inventory->Threshold -> any popup message doesn't appeared on the frontend
  * MAGE-219   Necessary to add data validation for filed "Trial Billing Frequency" in Recurring Profile
  * MAGE-487   Fixed JCB centinel card strict lookup results validation.
  * MAGE-257   UPS with PayPal: An error while trying to create a partial online refund
  * MAGE-261   After placing order through PayPal, shopping cart and mini-cart still displayed 1 item
  * MAGE-545   After adding tracking number, information does not appears in tab "Shipments" on frontend
  * MAGE-555   Added solo/switch fields to CC payment method form on backend and ccsaved form.
  * MAGE-552   Removed transaction closing after authorize, capture in verisign paybridge payment method.
  * MAGE-422   Added shipping address transferring on non guest checkout in Paypal Standart.
  * MAGE-86    PayPal admin setup: checkbox problem
  * MAGE-501   In case Allow Reorder=No, Reorder still available
  * MAGE-85    Fixed Maestro/Switch/Solo cards js validation on payment form: Added additional issue_number and issue_date checks.
  * MAGE-499   Added cvv field for Mastero/Switch/Solo cards. Also fixed html formatting.
  * MAGE-448   Duplication of error messages while adding to cart the product with enabled increments. It's full page caching issue.
  * MAGE-520   The page isn't redirecting properly while multishipping checkout as guest
  * MAGE-330   "-OR-" separator between EC shortcut and Proceed to Checkout button
  * MAGE-488   The product's "Stock Status" is not changed from "In Stock" to "Out of Stock"
  * MAGE-492   Qty of the product continues to decline when the "Decrease Stock When Order is Placed" is set to "No"
  * MAGE-489   If set "Manage Stock" to "No": Qty decreasing when product is ordered
  * MAGE-423   Added cancel() action to Payflow Pro payment method
  * MAGE-493   Only "No Payment Information Required" in the Payment Method grid should appear in case Gift Card amount covers the total order amount
  * MAGE-523   Fixed Invalid dates parsing (http://framework.zend.com/issues/browse/ZF-10090)




=== 1.9.0.0-rc1 ====

=== Major Highlights ===
  * Added Gift Registry functionality
  * Added Payment Bridge integration
  * Managment for customer and address attributes
  * Extended 3rd-party search engine integration with Solr for catalog navigation
  * Implemented Full Page Caching for logged in customers

=== Improvements ===
  * Favicon managment through backend configuration
  * Ability to disable charts on backend dashboard
  * Added suggestions fucntionality to 3rd-party search engine integration with Solr 
  * Implemented ability to define custom price ranges for layered navigation per category
  * Upgraded TinyMCE to v.3.3.7
  * Improved PayPal integration, includes:
    * Recurring payment profiles entity and purchasing of "subscription" products. In checkout they are treated as "nominal" items.
    * Billing agreements
    * "Pending Review" order state, "Pending Review" and "Suspected Fraud" order statuses and logic related with this. Triggers by PayPal IPR, FMF and Unilateral payments.
    * Functionality of transactions listing/searching and fetching from gateway
    * Fetching PayPal settlement reports via SFTP
    * Various improvements of PayPal integration on the frontend and admin UI
  * Added notice about creating offline creditmemo from order view page.
  * Added getter for recurring payment methods in payment helper.
  * Implemented abstract block ability to have arbitrary groups of child blocks and a method that returns such a group. Implemented a method that fetches data from child block by specified alias.
  * Implemented ability to specify "sort_order" instead of "before" and "after" in the totals declaration. All nominal totals declaration utilize "sort_order"
  * Added getter for specified object data by key in core/template block: method getObjectData()
  * Defined payment methods grouping, implemented getter for payment method list (with option to group them). Added ability to render grouped options in the "select" grid filter.
    * Moneybookers: utilized the payment methods grouping for all its methods; removed redundant "translate" attribute in the methods definition in config.
    * Utilized payment methods grouping for PayPal peyment methods.
  * Added more verbosity to PayPal NVP and IPN debugging

=== Changes ===
  * Reimplemented frontend top menu rendering logic (cross-browser and usability improvements)
  * Reviewed [logic of the sales reports|http://www.magentocommerce.com/wiki/doc/sales_reports_specifications]: Orders, Tax, Invoiced, Shipping, Refunds, Coupons
  * Reimplemented bestsellers report
  * (!) Changed Shopping cart methods output (top + bottom): removed <li>-dependance from templates in other modules \-> moved to Checkout module
  * Moved the Payflow Pro payment method to PayPal module
  * Refactored sales/service_quote model: instead of submit() method the submitAll() should be used. It can submit nominal items separately from the order. The methods for submitting nominal items and order   separately - are available as well.
  * Refactored onepage checkout model to use the new method sales/service_quote::submitAll(), added recurring profiles and billing agreements passing through the process until the success page
  * Utilized child blocks grouping to improve flexibility of rendering additional information in catalog/product/view template. The group is called "detailed_info"; any block from layout may insert itself to this group.
  * Removed redundant wrappers hard-coded into some catalog templates. Template of parent block is responsible for wrapping.
  * Refactored onepage checkout success block and template: simplified fetching related checkout information, added ability to render billing agreement and recurring profiles that might be created with the payment placement.

=== Fixes ===
  * Fixed #21313: Display price including TAX
  * Fixed #21632: Associated products don't get cached
  * Minor bugfixes in 3D Secure integration (API debugging, improvements in css and javascript)
  * 3D Secure integraion - fixed confused constant values in centinel service model
  * Fixed autocomplete in year field on new user registration
  * Fixed _isCaptureNeeded validation for PayPal pro (exception during invoicing captured transaction)
  * Fixed typo in PayPal Direct API variable "AUTHSTATUS3DS" (error in official documentation)
  * Moneybookers:
    * fixed translations in the activation email
    * minor fixes in account confirmation javascript
    * Fixed #21752: Moneybookers configuration per store
  * Fixed #21302: PayPal PayFlow Pro: card expiration date format should be MMYY, not MMYYYY
  * Fixed #20932: unique key in catalog_product_link
  * Fixed #21031: Simultaneous product->save() causes "Base table or view already exists: 1050 Table catalog_product_index_price_idx' already exists
  * Fixed #20782: Wrong prices exc. tax with discount in cart
  * Fixed #21099: Wrong subtotal for manual order entry with manual price
  * Fixed #21271: Price inc tax and exc. tax same for grouped product
  * Fixed grid js object name in grid pager: now it uses block method instead of direct building
  * Fixed changing notification when editing a product in various tabs:
    * Downloadable products: links title (element had no id attribute and thus was omitted by the event dispatcher init code)
    * Custom options: whatever was added with "Add option"
    * Bundles: whatever was added with "Add option"
    * All date input fields when using the calendar widget
    * Prices: tiered prices box, all rows added with "Add tier"
  * Fixed #6321: Add RSS urls to head section
  * Fixed #21831: Tax Calculation Version 1.4.0.1 still incorrect
  * Fixed #12067: iPhone Terms and Conditions Box
  * Fixed #20631: Order totals when creating order from admin do not reflect currently selected currency
  * Fixed #21777: Catalog pricerules
  * Fixed #14591: Incorrect SKU for Configurable Product with Custom Options
  * Fixed #20832: PayPal Standard tax issue: implemented proper tax and discounts validation/transferring with cart line items
  * Fixed #17451: Header Links (top.links.phtml) does not output correctly because it is using the model code (the Toplinks block is deprecated)
  * Fixed #21302: PayPal PayFlow Pro: card expiration date format should be MMYY, not MMYYYY. Also fixed country code typo issue.
  * Fixed #21686: Typo in tag.xml
  * Fixed extra quoting in select html element
  * Fixed XHTML validation errors in admin in some places
  * Fixed #21912: calculation error transfer between multishipping address
  * Fixed typo in PayPal NVP API that caused impossibility to do partial captures
  * Fixed order taxes report with Match Period To = Order Updated Date (typo)
  * Fixed issue when invoiced and not shipped yet orders after cancelling becomes completed
  * Fixed #21533: Missing tranlation for "This date is a required value" in javascript
  * Fixed stock management checking for a stock item when the stock management is disabled for this item (the check should be bypassed)
  * Fixed "New Products" RSS: added grouped and bundle products
    * Fixed the feed so that it contains grouped products now
    * The feed now shows the same products as shown in category view or "New products" widget (before the fix, incomplete products might be shown)
  * Fixed: virtual / downloadable product isn't deleted from the shopping cart, if change qty to '0'
  * Fixed #21866: 'Master Card' misspelling, should be spelled 'MasterCard' in credit card drop down options in checkout
  * Fixed #21771: Adjustment Refund & Adjustment Fee not showing in View Credit Memo
  * Fixed admin timeout issue inside iframe of Centinel validation
  * Fixed/reviewed tax calculation for components:
    * shipping price including tax in checkout process block
    * order/invoice/creditmemo shipping incl tax calculation
    * applied tax saving for shipping tax
    * applied tax saving for shipping tax
  * Fixed #16577: Dual Order with same Product
  * Fixed: #14502: Newsletter un-subscription message on customer account inappropriate
  * Fixed issue when product quantity was incorrectly updated in stock after an order is placed for a configurable and a bundle products
  * Fixed #20697: wrong url rewrite resource model
  * Fixed duplicating of coupon code in shopping cart view
  * Fixed Catalog RSS feed showing prices including and excluding tax
  * Fixed #21501: Problem with translate inline and translations
  * Fixed setting URL key when using quick-create for simple products of the configurable.
  * Fixed adding comments to sales documents (invoices, shipments, credit memos)
  * Fixed #21816: Google Analytics Issue with Registration Checkout and Already Logged In
  * Fixed issue with number of orders that were created by Google Checkout
  * Fixed #22199: Duplicated Code - Useless Check
  * Fixed applied tax saving for shipping tax
  * Fixed issue that invoiced orders after cancelling become completed
  * Fixed #21533: Missing tranlation for "This date is a required value" in javascript
  * Fixed: Sales report last update date doesn't change after re-aggregating
  * Fixed rounding special price of selections in bundle product view
  * Fixed one day forward shift of dates in sales reports when showing empty rows
  * Fixed missed calculation of base_total_canceled & total_canceled fields on order cancellation
  * Fixed wrong calculation of base_discount_canceled & base_discount_canceled because of negative values of base_discount_amount in the sales order tables
  * Fixed #22490: .Biz domain email addresses cause checkout to throw error and return to main Checkout page. Fixed path argument passed to include function in Zend_Validate_Hostname::isValid() to be valid whether source code compiler is used or not
  * Fixed Negative value in Shopping Cart in case Tax Calculation Method Based On Unit Price
  * Fixed Subtotal (Incl.Tax) = -$0.01 during created credit memo with refund shipping
  * Fixed: 100% discount of products -> the amounts of Tax and Grand Totals are or negative or not corectly
  * Fixed #21225: catalogProductUpdate / catalogProductCreate and tier_price attribute
  * Fixed #16596: category.assignedProducts always returns an empty result
  * Fixed js reference to non-existing element when CVV verification disabled and gateway supports SS-type credit cards

=== Known Issues ===
  * PayPal and Payflow pro modules are officially backwards incompatible.
  * Blockers:
    * The page isn't redirecting properly while multishipping checkout as guest
    * It is not possible to add grouped product to gift registry from the wishlist
    * Impossible to purchase product with recurring profile in PayPal Express checkout
    * Payflow pro: "Sale" action does not work
    * Customer can successfully pace order with Failed JSB Credit Card with Severe 3D Secure Card Validation option enabled
    * Method "initPaymentMethod" is not defined in "Enterprise_Pbridge_Model_Observer" when purchase a product
    * The "Ship to recipient's address" option is available during one-page checkout of products from multiple registries, one of which does not have shipping address
    * If there is any field in gift registry that is not mandatory and it was not filled in (has no value), it should be hidden on the "Gift Registry Info" page
  * Critical:
    * Updating qty and addresses during checkout with multiple addressses resets shipping address to the default billing address
    * Fulfilled quantities are not reflected correctly in the gift registry update emails if items from different gift registries are purchased
    * Can not buy a product that has Recurring Profiles through the PayPal Express

=== Upgrade Path ===
  * Once upgraded, go to system configuration section and re-enter all PayPal-related settings carefully. Make sure to specify the proper merchant country and email.




==== 1.8.0.0 ====

=== Improvements ===
  * Implemented 3D Secure validation for Maestro International and JCB cards
  * Added comments to system configuration fields "Catalog" > "Price" > "Catalog Price Scope" and "Currency Setup" > "Currency Options" > "Base Currency" that explain that base currency scope depends on the catalog prices scope.
  * Added note to reports that aggregated data depends on timezone and must be re-aggregated completely after global timezone change.

=== Changes ===
  * Cleaned up enterprise/default theme from redundant files (it is enough to have them in the base/default)

  * Cleaned up iphone theme from redundant files
  * Added Maestro International card type to credit card based payment methods (abstract).
  * Changed option "Notify Customer" into two options "Notify Customer by Email" and "Visible on Frontend" when adding an order comment. All comments that had the old value = 0, will be not visible on the frontend.
  * System configuration option "Sales" -> "Dashboard" -> "Use Aggregated Data" is marked as "beta"
  * Added "delta" rounding during shipping excluding/including tax calculation
  * Added discount tax as line item in PayPal
  * Reviewed logic of the sales reports:
    * Orders
    * Tax
    * Invoiced
    * Shipping
    * Refunds
    * Coupons

=== Fixes ===
  * Fixed websites filter on customer segments
  * Removed reward points tooltip block from invitations form when the frontend functionality of reward points is disabled.
  * Fixed date issues of staging scheduled merging.

  * Fixed issue when product quantity was incorrectly updated in stock after an order is placed for a configurable and a bundle products
  * Fixed #20697: wrong url rewrite resource model
  * Fixed duplicating of coupon code in shopping cart view
  * Fixed Catalog RSS feed showing prices including and excluding tax
  * Fixed #21501: Problem with translate inline and translations
  * Fixed setting URL key when using quick-create for simple products of the configurable.
  * Fixed adding comments to sales documents (invoices, shipments, credit memos)
  * Fixed #21816: Google Analytics Issue with Registration Checkout and Already Logged In
  * Fixed issue with number of orders that were created by Google Checkout
  * Fixed #22199: Duplicated Code - Useless Check
  * Fixed applied tax saving for shipping tax
  * Fixed issue that invoiced orders after cancelling become completed
  * Fixed #21533: Missing tranlation for "This date is a required value" in javascript
  * Fixed: Sales report last update date doesn't change after re-aggregating
  * Fixed rounding special price of selections in bundle product view
  * Fixed one day forward shift of dates in sales reports when showing empty rows
  * Fixed missed calculation of base_total_canceled & total_canceled fields on order cancellation
  * Fixed wrong calculation of base_discount_canceled & base_discount_canceled because of negative values of base_discount_amount in the sales order tables
  * Fixed #22490: .Biz domain email addresses cause checkout to throw error and return to main Checkout page. Fixed path argument passed to include function in Zend_Validate_Hostname::isValid() to be valid whether source code compiler is used or not
  * Fixed Negative value in Shopping Cart in case Tax Calculation Method Based On Unit Price.
  * Added IDNA domains support in registration and login forms
  * Fixed issue when 100% discount of products -> the amounts of Tax and Grand Totals are or negative or not corect
  * Fixed: (Row Total) incorrect discount rounding when shopping cart is calculated, reviewed tax and grand total calculations in this case

=== Known Issues ===
  * The `sales_order_aggregated_created` table was re-created with new columns, it is not backwards compatible.




==== 1.8.0.0-rc1 ====

=== Major Highlights ===
  * 3rd-party search engine integration with Solr
  * Order archiving
  * Automated email marketing reminder rules
  * Customers shopping cart management from admin
  * Removed redundant files from the enterprise/default theme

== Expected for Stable Release ==
  * 3D Secure validation support for JCB and Maestro cards
  * Sales report logic review

=== Improvements ===
  * Implemented adapter to 3rd-party search engines. Implemented Solr search engine adapter
    * implemented for catalog products quick search only. Searches by product names, SKU, description, meta keywords etc...
    * out of the box the solr configuration files are provided for 20 languages:
      * Danish ('da_DK')
      * Dutch ('nl_NL')
      * English ('en_AU', 'en_CA', 'en_NZ', 'en_GB', 'en_US')
      * Finnish ('fi_FI')
      * French ('fr_CA', 'fr_FR')
      * German ('de_DE','de_DE','de_AT')
      * Italian ('it_IT','it_CH')
      * Norwegian ('nb_NO', 'nn_NO')
      * Portuguese ('pt_BR', 'pt_PT')
      * Romanian ('ro_RO')
      * Russian ('ru_RU')
      * Spanish ('es_AR', 'es_CL', 'es_CO', 'es_CR', 'es_ES', 'es_MX', 'es_PA', 'es_PE', 'es_VE')
      * Swedish ('sv_SE')
      * Turkish ('tr_TR')
      * Czech ('cs_CZ')
      * Greek ('el_GR')
      * Thai ('th_TH')
      * Chinese ('zh_CN', 'zh_HK', 'zh_TW')
      * Japanese ('ja_JP')
      * Korean ('ko_KR')
  * Implemented automated email marketing reminder rules — functionality to send reminder emails for various conditions. Key features:
    * abandoned wishlist reminder
    * abandoned shopping cart reminder
    * auto-generation of multiple coupon for specified shopping cart price rule
  * Implemented customers shopping cart management from admin
  * Implemented Sales Archiving — ability to archive processed orders and its related sales documents
  * Full page caching improvements:
    * added dynamic content support for cached pages
    * added ability to cache container content for FPC, finalized last viewed products functionality
  * Admin actions log archiving: implemented avoiding of an empty archive file creation if there is nothing to archive

  * Added ability to have a comment for promotion rule fielset, similar to generic fieldset.
  * Added method for getting self child selection options recursively for promotion rule combines
  * Optimized catalog search system configuration fields sort order to make it more extendable.
  * Added icon for some buttons in admin that don't do some action instantly, but redirect to other page.
  * Added cache key generation on core template block level
  * Added ability to register product ids for last viewed products index
  * Added ability to disable observer call with <type>disabled</type> node (after backwards compatibility violation discovered)
  * Performance improvements on Mage_Catalog_Helper_Output::productAttribute method level
  * Added ability to use lazy connection instantiation on EAV resource models
  * Added "_isStraight" flag support on Mage_Core_Controller_Request_Http - allows to process request without additional logic (url rewrites, custom design visitor logging)
  * Implemented 3D Secure validation for the JCB credit cards
  * Added "Only X Left" feature - an option to show on a product view page how many items remains in stock, if it is lower than specific threshold.
  * Implemented #7741: Customer group increase order size . The feature is called "Qty Increments" - to trade items in boxes only. I.e. allow to purchase 6, 12, 18 items etc...
  * Minor CSS improvements in frontend themes
  * Image/media browser minor UI improvements
  * Added default placeholder for skin images in wysiwyg
  * Minor style improvements for widgets insertion overlay
  * Implemented 3D Secure transactions debugging
  * Added ability to set a writer adapter to the Mage::log() and to use Mage::log() regardless of system configuration settings
  * Added Magento Variable icon for WYSIWYG
  * Added ability to append custom class name to main pop-up window container
  * Added explanation comments for Centinel Api Custom URL
  * Implemented #6321: Add RSS urls to head section
  * Implemented #7293: Track IP in abandoned cart
  * Implemented ability to not include a category into navigation menu
  * Improved visual design of widget and variable insertion, and media browser overlay
  * Product custom URL rewrites redirect to SEF URL, rather than to catalog/product/view/id/
  * (in progress) URL rewrites history: ability to auto-generate custom rewrite with redirect from old to new URL when changing product URL-key
  * Optimized getAttributeRawValue() method in catalog module for retrieving more then one attributes


=== Changes ===
  * enterprise/default theme cleanup in favor of base/default
  * Reward points system changes:
    * Added validation for "Minimum Reward Points Balance" and "Cap Reward Points Balance" in system configuration
    * Implemented option to disable earning reward points for orders
    * Reward exchange rates do not block entire functionality on frontend. Instead of it each part of reward points work separately, if it is possible. I.e.: adding points for tag submission or product review does not need any exchange rates
    * Implemented reward points expiration warning emails
  * Added unique index for "product_id, store_id, category_id, customer_group_id" in catalogpermissions index
  * Implemented usage of initialization vector in encryption model to utilize AES-256 encryption
  * Unified all catalog product attribute options: 'is_used_for_price_rules', 'is_used_for_customer_segment', 'is_used_for_target_rules' — into one 'is_used_for_promo_rules'

  * Sales reports refactoring after migration to flat sales structure: added a few indexes, optimized statistics reaggregation, fixed issue with generating statistics in wrong timezone (it was in UTC, but needs to be in the admin timezone)
  * Added Mage_Core_Helper_Abstract::stripTags() and utilized it in templates instead of strip_tags()
  * Improved and optimized base design package templates and layouts, minor fixes in payment method templates.
  * Moved fireEvent() function from adminhtml/events.js to a more generic js.js for future use
  * Added Mage_Core_Model_Config_Data::getFieldsetDataValue($key) - ability to get a neighbour system configuration value in backend model, when saving system configuration
  * Reviewed Magento user interface text labels and messages for proper grammar, informativeness and capital letters usage.
  * Reimplemented top menu rendering logic: implemented Mage_Catalog_Block_Navigation::_renderCategoryMenuItemHtml(), deprecated Mage_Catalog_Block_Navigation::drawItem() and reimplemented to work through _renderCategoryMenuItemHtml for compatibility
  * Added url rewrites on last viewed products collection
  * Reimplemented products bestsellers report: report uses pre-aggregated data to improve performance
  * Moved logic of reaggregating reports data from sales report controller into separate controller, added bestsellers report handling there
  * Refactored frontend navigation menu HTML structure and javascripts: the menu expands and collapses with small delay making it more accessible for users. Fixed possible compatibility issue in Mage_Catalog_Block_Navigation::drawItem() and marked as deprecated after 1.4. Removed local calls of onmouseover/onmouseout events to improve SEO.
  * Added ability to assign id for field containers (TR tag) using node <use_container_id>1</use_container_id> in system configuration
  * Moving widgets.css below in the code for proper styles overriding.
  * Moved JCB credit card declaration and implementation into the Mage_Payment module. Removed it from other modules (they will inherit JCB card from "CC" payment method)
  * Modified Varien_Object_Mapper to check arrays using array_key_exists() instead of isset()
  * Indexer changes (related to the #21031):
    * Removed DROP/CREATE statements for index temporary tables
    * Created static index temporary tables (InnoDB and MEMORY) and separated using those tables in reindexiAll() and reindexEntities()
  * Added ability to set a comment in adminhtml generic fieldset renderer
  * Added element as parameter of system configuration field getCommentText method
  * Added ability to use isObjectNew method of model for object save on resource model level
  * Added additional blocks support on order history and last orders blocks level
  * Made encryption key length check binary-safe
  * Added full exception trace logging to cron_schedule table
  * Moved shopping cart price rule coupon to separate table, improved shopping cart price rule management UI
  * Added ability to specify model for system config field comment generation (system.xml):
    * <comment><model>module/model</model></comment>
    * requires getCommentText method definition from defined model
  * Changed the way how payment methods debug transactions: instead of database the debug information is written into var/log/payment_<method_code>.log
  * Updated text labels in sales reports: terminology for "report type" (period matches to)
  * Added new column 'updated_at' for wishlist table. Changed controller and model logic to save new data.
  * Refactored Sales module resource from EAV into flat structure.
  * Sales entities data structure changes:
    * Dashboard optimization + configuration option "Use Aggregated Data" for dashboard
    * Inventory: moved stock items qty manipulations out of transaction, fixed qty upgrade logic (x+delta)
    * Added configuration option "Automatically return Credit Memo item to Stock" for refunds autogeneration
    * Removed downloadable products FK relation with sales module
    * Sales order tax logic moved to tax module and relation with sales module by FK
  * Sales, SalesRule and Checkout modules changes:
    * Added product customer group property validation on sales rules level
    * Added ability to assign quote object to checkout cart model
    * Prevented redundant customer model load in customer address
    * Optimized saveDownloadableOrderItem item in downloadable product observer
  * Prevented double "order by" in collection select statement
  * Added _beforeLoad support and not changed object save protection on core abstract level
  * Extended abstract collection with add/remove fields to/from select
  * Escaped html entities in mail form in 404, 503 and report.php error pages, prevented errors if global array $_SERVER is undefined
  * Minor text changes in PayPal modules
  * Added not existin observers methods calls protection
  * Separated tax shipping total from tax subtotal. Now taxes for store prices (code tax_subtotal) calculates before shipping, then calculates shipping (code shipping) and taxes for shipping (code tax_shipping) and then calculates customer taxes (code tax).
  * Added javascript validation for JCB cards
  * Changed confusing error message about quantity in shopping cart into proper one
  * Added comments collection loading when invoice, credit memo or shipment created with adding comment: needed before adding first comment.
  * Added Varien_Db_Ddl_Table
  * Added method createTable from DDL to Varien_Db_Apater_Pdo_Mysql
  * Removed getting Varien_Object id in Varien_Debug


=== Fixes ===
  * Fixed infinite loop if admin password is expired, but it does not have access to My Account page
  * Fixed: Banner assigned to promotion is displayed even though promotion has expired or is set with future date
  * Fixed: full page cache of product list is not affected after products mass-update
  * Admin actions log fixes:
    * cache management pages logging
    * sales documents processing logging
    * customers, customer segments, gift cards, sales reports CSV/XML export logging
    * "save and continue edit" in some places was displaying as 2 actions "save" and "view", fixed to be "save"
    * product review creation logging
    * product mass-update logging
  * Fixed calculation of gift card invoiced total amount after creating multiple invoices
  * Fixed issues in reward points system:
    * Reward Points are not redeemed while creating order in Admin
    * Adjusted reward exchange rates priority: "All Websites-One Customer Group" has higher priority than "One Website-All Customer Groups"

  * Fixed #20782: Wrong prices exc. tax with discount in cart
  * Fixed #21099: Wrong subtotal for manual order entry with manual price
  * Fixed #21271: Price inc tax and exc. tax same for grouped product
  * Fixed grid js object name in grid pager: now it uses block method instead of direct building
  * Fixed changing notification when editing a product in various tabs:
    * Downloadable products: links title (element had no id attribute and thus was omitted by the event dispatcher init code)
    * Custom options: whatever was added with "Add option"
    * Bundles: whatever was added with "Add option"
    * All date input fields when using the calendar widget
    * Prices: tiered prices box, all rows added with "Add tier"
  * Fixed #6321: Add RSS urls to head section
  * Fixed #21831: Tax Calculation Version 1.4.0.1 still incorrect
  * Fixed #12067: iPhone Terms and Conditions Box
  * Fixed #20631: Order totals when creating order from admin do not reflect currently selected currency
  * Fixed #21777: Catalog pricerules
  * Fixed #14591: Incorrect SKU for Configurable Product with Custom Options
  * Fixed #20832: PayPal Standard tax issue: implemented proper tax and discounts validation/transferring with cart line items
  * Fixed #17451: Header Links (top.links.phtml) does not output correctly because it is using the model code (the Toplinks block is deprecated)
  * Fixed #21302: PayPal PayFlow Pro: card expiration date format should be MMYY, not MMYYYY. Also fixed country code typo issue.
  * Fixed #21686: Typo in tag.xml
  * Fixed extra quoting in select html element
  * Fixed XHTML validation errors in admin in some places
  * Fixed #21912: calculation error transfer between multishipping address
  * Fixed typo in PayPal NVP API that caused impossibility to do partial captures
  * Fixed #21313: Display price including TAX
  * Fixed #21632: Associated products don't get cached
  * Minor bugfixes in 3D Secure integration (API debugging, improvements in css and javascript)
  * 3D Secure integraion - fixed confused constant values in centinel service model
  * Fixed autocomplete in year field on new user registration
  * Fixed _isCaptureNeeded validation for PayPal pro (exception during invoicing captured transaction)
  * Fixed typo in PayPal Direct API variable "AUTHSTATUS3DS" (error in official documentation)
  * Moneybookers:
    * fixed translations in the activation email
    * minor fixes in account confirmation javascript
    * Fixed #21752: Moneybookers configuration per store
  * Fixed #21302: PayPal PayFlow Pro: card expiration date format should be MMYY, not MMYYYY
  * Fixed #20932: unique key in catalog_product_link
  * Fixed #21031: Simultaneous product->save() causes "Base table or view already exists: 1050 Table catalog_product_index_price_idx' already exists
  * Fixed #21250: HTML code displaying like text in descriptions / List View Displaying HTML Entity Values
  * Fixed #21251: html code shows in category product listing
  * Fixed: Unit Price in Shopping Cart is incorrect when applying a Coupon Code
  * Fixed #18536: Rounding error on Shipping Tax calculations
  * Fixed bugs with row based tax calculation and shipping tax calculation
  * Fixed width/height in WYSIWYG image insertion
  * Fixed authorize.net payment transaction saving during capture
  * Fixed #20890: Incorrect function name
  * Fixed #21055: No Navigation on Advanced Search Results
  * Fixed #20912: memory_limit suffix other than 'M'
  * Fixed #20884: JS bug in Widget/Grid/Column/Action.php
  * Fixed #7228: Credit Memo - Adjustment Fee $ or %
  * Fixed #20832: paypal - standard Tax issue
  * UI minor fixes in 3D Secure validation process
  * Added forgotten Moneybookers email template
  * Fixed #21061: Global country tax applied instead of specific state tax
  * Fixed catalog price rules different sorting when applying the rule vs. saving the product
  * Fixed #20603: Async Google Analytics throws js error (_gaq not defined)
  * Fixed SQL error possibility when adding bundle to cart
  * Fixed #16684: ini_set of auto_detect_line_endings during Varien_Io_File::streamReadCsv
  * Fixed #17748: Category chooser at price rules
  * Fixed #20161: Special From Date for website
  * Fixed Fatal error: Call to undefined method Mage_Admin_Model_Observer::actionPostDispatchAdmin() in \app\code\core\Mage\Core\Model\App.php on line 1207 (backward compatibility)
  * Fixed read/write connection issue during new customer order place. See http://www.magentocommerce.com/boards/viewthread/19363/P0/
  * Fixed confusion with admin page title when editing product
  * Fixed bug in Mage_Bundle_Model_Product_Type::getSelectionsCollection(): retrieved collection depends on passed optionIds only on first method call
  * Fixed: New products RSS feed appears instead of the Special products RSS feed
  * Fixed tax rule ZIP range matching (numeric values were matched as strings)
  * Fixed #14055: New orders RSS feed displaying incorrect customer name
  * Fixed #19192: Error when product inventory messed up on viewing order.
  * Fixed minor visual design issues in themes and skins
  * Fixed getting secure host URL in 404, 503 and report.php error pages
  * Fixed up filtering of filenames of uploaded files
  * Fixed position issue for cross-sell products
  * Fixed #20372: importing images
  * Fixed: #17845: Validation and Ampersand Flaws in Layered Navigation and other locations that use the fake query string
  * Fixed #15592: Mage_Adminhtml_Model_System_Config_Source_Shipping_Allowedmethods::toOptionArray() not compatiable with parent method
  * Made proper validate() independent of submit in form.js (Visions contribution)
  * Fixed incorrect js logic on order create backend page (Visions contribution):
    * Fixed: when create order, it is not possible to resubmit after initial validation failed (because submit button is disabled)
    * Improved client side validation that new order has shipping address (it is required to click "get shipping method and rates"
    * Improved client side validation that payment method is selected (like in checkout of frontend)
  * Improved usability of sales admin (Visions patch):
    * added ability to export csv or excel for orders, shipments, creditmemos, invoices
    * made filter for creditmemo and shipment type text so it is possible to just enter one id and find object looking for (unified with orders and invoices, there it is already text not number)
  * Fixed #17659: UPS Minimum Weight Required for Negotiated Rates
  * Fixed #20580: Index module not translated


=== Known Issues ===
  * It is impossible to run more than one 3D Secure card validations simultaneously in one session. Not fixable.




==== 1.7.1.0 ====

=== Major Highlights ===

CE functionality added to 1.7.1.0:
  * 3D Secure card validation
  * PayPal Website Payments Pro (Payflow Edition) was rewritten and extended from PayPal US Edition

=== Improvements ===

  * Implemented 3D Secure credit card (Visa, Mastercard) validation for payment methods:
    * Saved CC
    * PayPal Website Payments Pro - Direct Payments
    * PayPal Website Payments Pro (Payflow Edition) - Direct Paymens
    * Payflow Pro
  * Implemented #11012: Support canonical link tag
  * Implemented WYSIWYG for newsletter templates
  * Minor improvements in sales reports
  * Renamed button "Refund" to "Refund Offline" on Credit Memo page for order
  * 19963: Mage_Eav_Model_Entity_Setup::addAttributeToGroup() (visions patch)
  * Added relevant page titles in admin area
  * Implemented column decorators and ability to use getter callback in admin grids
  * Made fetching payment methods sort order properly: via getConfigData() rather getStoreConfig() (optimization for 3rd-party customizations)
  * Implemented ability for page/html_wrapper block to not render the wrapper tag, made it output children sorted
  * Implemented wrappers for inserting additional blocks in:
    * before shopping cart line items list
    * before onepage checkout login/registration form
    * before customer registration form
    * before newsletter subcription form (customer "My Account")
    * before product review form
    * before product tag submission form (product view page)
  * Implemented giropay integration with PayPal Express Checkout
  * Added before/after initialize and before/after validate events to opcheckout.js
  * Optimized products toolbar functionality, prevent saving to session default grid parameters (for sorting, pager etc.)
  * Added filter by website in "Last ordered items" block
  * The error report exception printing is disabled by default for security reasons. To print the error report, copy the errors/local.xml.sample to errors/local.xml
  * XSS vulnerabilities review

=== Changes ===

  * PayPal Website Payments Pro (Payflow Edition) is completely rewritten, as extending Mage_Paypal module. With breaking code backwards compatibility.
  * Mage_Core_Model_Flag - moved setting flag_code to _construct()
  * #19595: Varien_File_Uploader_Image not working - class is deprecated and should not be used
  * Marked dead code Mage_Checkout_Model_Type_Abstract::_emailOrderConfirmation() as deprecated
  * Reimplemented 404, 503 and report.php error pages: now fully configurable from errors/local.xml, with ability to override theme per entry point or even store view
  * error report doesn't disclose the trace by default anymore
  * Added to Catalog Product Price indexer upgrade operation by removing old temporary index tables if exists
  * Product image uploader security measurements:
    * disabled ability to run php scripts in "media" folder
    * added callback validation to File/Uploader.php
    * added image file validation to Catalog/Product/GalleryController.php
  * Prevented flushing output buffer caused by exceptions in templates included by core/template block
  * added default _type param to Design Package getters in core/design_package model
  * Added additional qty parameter to event 'catalog_product_get_final_price'
  * Updated sales sql-upgrades: fixed missing table prefixes in some places, rewrote adding foreign keys via methods
  * Implemented 'any-value-validate' logic for Catalog Rules; common methods moved to parent (Mage_CatalogRule_Model_Rule_Condition_Product) class
  * Expanded width of fields on product and category edit pages
  * Added ability to render number sign in currency and number grid renderers
  * Fixed datetime grid renderer to make it use getters (see parent class)
  * Added Mage_Core_Block_Abstract::escapeHtml() instead of htmlEscape()
  * Added ability to make output optional in page/html_pager block (when items total quantity is less than page size)
  * Added ability disable product list toolbar params saving to session
  * Added sorting by param name to query params part of url
  * Made page/html_wrapper block treat children empty output as if there are no children.
  * Fixed session cookie renew functionality, added ability define cookie settings for javescript methods
  * When LN filter for an anchor category is active not allow to use display mode "Static Block Only"
  * Sales: made online operations and notifications updating "online" totals, instead of totals mixed with online/offline sales documents. Removed updating "base_amount_canceled" total update when voided payment (this was backwards compatibility violation)

=== Fixes ===

  * Fixed 'tax_rate_data_fetch' event params
  * Minor fixes in PayPal Express Checkout and PayPal Direct (non-reported bugs, terminology issues)
  * Fixed #16210: Input field size decreased in category products grid
  * Fixed #17281: Google Checkout: Incorrect assigning of [parent_id]
  * Fixed #14251: Google Checkout still does not allow free shipping
  * Fixed #11412: Rounding error in tax and shipping calculation
  * Fixed #11836: No authentication on customer reviews url
  * Fixed #13511: "Default web url" does not work as expected
  * Fixed #14469: Newly created products for configurable products do not stick
  * Fixed #14915: Invoice payment capture _needToAddDummy bug
  * Fixed #15235: Special price bug with multiple websites
  * Fixed #16425: printing in admin breaks top menu
  * Fixed #16499: Require customer login for reviews not 100% working
  * Fixed #17058: Currency Switch won't work on first time in shop frontend (session id issue)
  * Fixed #17504: Birthday getting swapped (Month and Day)
  * Fixed #17720: core_flag primary key is a smallint and has a max value of 65535
  * Fixed #17793: Google Base Special Price not mapped to Price
  * Fixed #18127: Bundle Products pricing incorrectly when not required
  * Fixed #18341: Bugs in dataflow: number of records
  * Fixed #18745: Customer Import shouldn't send email
  * Fixed #18868: Unable to use Mage::log() before config is read
  * Fixed #19290: Changing 'My Account' info may destroy log in when password is blank
  * Fixed some XSS vulnerabilities in admin
  * Fixed #19448: Incorrect handling of empty attributes under PHP 5.2.0
  * Fixed #19449: Google Base
  * Fixed USPS First Class International and USPS Express Mail International shipping method that stopped working after gateway changes
  * Fixed #19512: /index.php/checkout/onepage/getAddress/address/ allows everyone logged in to get all addresses
  * Tax rates edit form won't clean on validation error anymore
  * Fixed #19702: getLastOrderId missing parameter
  * Fixed #19729: unable to translate "Display product options in" and "Product Type"
  * Fixed #19753: Compare products page breaks if no attributes are marked as "Comparable"
  * Fixed #19791: Shipment tracking not displayed from admin panel with store code in URLs enabled
  * Fixed #19838: missing two escape characters in validation.js at the validate-email regex
  * Fixed #19873: Minor warning fix
  * Fixed #19904: please remove double file extensions in filenames of uploaded files
  * Fixed #19954: Undefined variable
  * Fixed #19960: Google Analytics Asynchronous Tracking Code
  * Fixed #19964: cart sidebar shows zero total when displayed including tax
  * Fixed #19969: Css is wong for gift-message-form
  * Fixed #20023: Admin login is very slow when widgets.magentocommerce.com is down
  * Fixed #20080: Dataflow Profiles Need to be Sorted
  * Fixed #20250: Search'n'replace oversight
  * A few fixes in URL rewrites logic
  * Fixed #20350: WRONG "XML_PATH_SCHEDULE_GENERATE_EVERY"
  * Fixed #20361: Move Category Failed
  * Fixed #6564: Transactional Email Templates Using alt="Magento"
  * Fixed #8514: Negative Number in Sorting
  * Fixed Price indexer website date/rate
  * Fixed tier_price and website table names in Catalog Product Price Default indexer
  * Fixed command line installation - fatal caused by improper website initialization
  * Implemented correct setting attributes to entity including situation when there are no attribute value for default sore
  * Fixed #19263: Adminhtml Html Error: Double
  * Fixed "undefined index" notice when saving Table Rates without uploading import rates file.
  * Fixed #20680: Catalog - Google Sitemap
  * Fixed #20024: Error message 'Data saving problem' when try to checkout with multiple addresses (when address deleted during multishipping process)
  * Fixed #20625: Fatal error: Exception thrown without a stack frame in Unknown on line 0 (Fixed cache backend instantiation when a shared PEAR library is in the include path)
  * Fixed issues of upgrading from 1.3.x to 1.4.x through Magento Connect in some installations
  * Fixed #20659: Unable to choose images for upload (duplicates: #20588, #20573, #20616, #20595)
  * Fixed shell cron script runner
  * Refixed #17963: Ampersand in Search Breadcrumb: Double-encoded




==== 1.7.0.0 ====

=== Enterprise Edition Changes since 1.7.0.0-rc1 ===
  * Reward points
    * Added ability to set reward points as an action in shopping cart price rules
    * removed disclosing of the history comment on frontend (requirement)
    * updated "Learn More" CMS-page content
    * full review of frontend design
    * removed "rate_description" from history and rates - not used anymore
    * changed calculation of gained points by customer (now depending on base subtotal of order)
    * Added ability to disable Reward Points on frontend per website
  * Implemented wrappers for inserting additional blocks in:
    * before invitations list
    * before invitations send form
    * before invitations registration form

== Bugfixes ==
  * Fixed #19750: Reward points for shopping cart price rules do not apply when grand total is covered by reward points
  * Fixed #19725: Real registration Invitee and order ID email are shown in reward points history of Inviter
  * Fixed #19360: Manage customers - changes for "Reward Points Notifications" checkboxes isn't saved
  * Fixed #17554: Banner rotator for all products - main content area design issue
  * Fixed #17021: 'Date' custom option's field is too long
  * Fixed #18377: Button "Go back to product detail" on Bundle customize page is partially hidden
  * Fixed #19737: double reward points withdrawal during simultaneous checkout under one customer in different browsers
  * Fixed #19736: Rates don't load for customers created from admin
  * Fixed #19707: After login into back-end notification message "Your password has expired" does not appear properly
  * Fixed #19062: Widget with Catalog Product Link / CMS Hierarchy Node Link don't display in front-end
  * Fixed #19359: 'New Tag Submission' functionality doesn't charge reward points to the customer's account
  * Fixed #19468: Backend->'Reward points history'-> Use some filter - user redirected to dashboard
  * Fixed #19517: The "view as", "sort by" and "show per page" are not working correctly with the Full Page Caching enabled.
  * Fixed #19611: newly created customer is not subscribed for notifications by default
  * Fixed #19492: Reward points are not added for invitation conversions
  * Fixed #19272: Custom options like date, file, time etc. don't have JS validation to calculate final product price at the product page
  * Fixed #19183: After Multiple Address My Cart() does not contain value 0
  * Fixed #19359: 'New Tag Submission' functionality doesn't charge reward points to the customer's account
  * Fixed #19272: Custom options like date, file, time etc. don't have JS validation to calculate final product price at the product page
  * Fixed #18747: Possibility to create Customer Segment under GWS-limited admin
  * Fixed #19491: Refresh Segment Data display as match in Admin Action Log
  * Fixed #19618: If a page was cached, it doesn't change if the field 'Under Version Control' has value 'Yes'
  * Fixed #19580: Discount of catalog price rule does not show on the cached page
  * Fixed #19482: After creating a new banner it does not show on the page
  * Fixed #19574: Page cache not reset after product attribute settings change
  * Fixed #19577: Page cache not reset after add new tag/review
  * Fixed #19630: New products do not show in widget block on the cached CMS page
  * Fixed #19632: Changes of hierarchy don't display in cached pages
  * Fixed duplicated price ids for target rule related and upsell products

== Known Issues ==
  * Reward Points may have issues for customers assigned to the "Admin" website


=== Core (Community Edition) Changes since 1.4.0.0-rc1 ===

== Improvements ==
  * Added Moneybookers payment module to Magento out of the box
  * Added Ogone payment module to Magento out of the box
  * Implemented Giropay integration with PayPal Express Checkout
  * Implemented column decorators and ability to use getter callback in admin grids
  * Implemented #11012: Support canonical link tag
  * Implemented ability for page/html_wrapper block to not render the wrapper tag, made it output children sorted.
  * Implemented wrappers for inserting additional blocks in:
    * before shopping cart line items list
    * before onepage checkout login/registration form
    * before customer registration form
    * before newsletter subcription form (customer "My Account")
    * before product review form
    * before product tag submission form (product view page)
  * Added ability to render number sign in currency and number grid renderers
  * Added ability to make output optional in page/html_pager block (when items total quantity is less than page size)
  * Added ability to disable product list toolbar params saving to session
  * Optimized products toolbar functionality, prevent saving to session default grid parameters (for sorting, pager etc.)
  * Added filter by website in "Last ordered items" block
  * Minor improvements of sales report forms design
  * Admin UI minor visual design improvements

== Changes ==
  * Removed "enable cookies" cms page redundant images from all themes except base/default
  * Fixed fetching payment methods sort order: via getConfigData() rather than getStoreConfig() (optimization for 3rd-party customizations)
  * Fraud filters or any pending state triggered by PayPal will cause order to be onhold (requirement)
  * Removed "PayPal -> Payment Page Style -> Logo Image URL"
  * Removed "PayPal -> Payment Page Style -> Shortcut Button Type (Express Checkout)"
  * Added Mage_Core_Block_Abstract::escapeHtml() instead of htmlEscape()
  * Refactored some code for extends by Paypal (Payflow Edition):
    * Moved Config, Pro, Info and Nvp model types from strings to class attributes
    * Moved CAPTURE_TYPE_COMPLETE and CAPTURE_TYPE_NOTCOMPLETE logic from Pro and Config to Nvp.
    * Added _isCallSuccessful and _handleCallErrors to Nvp for catching success and fail requests.
    * Added posibility to change "method" label in request by adding "_addMethodToRequest"
    * Moved Paypal specific method names to constants in Nvp
  * Made page/html_wrapper block treat children with empty output as if there are no children.
  * Implemented dynamic BN codes for PayPal. Pattern: Varien_Cart_(EC|DP|WPS)[_<country_code>] where country code is one of 18 country codes currently PayPal has localized market sites.
  * When LN filter for an anchor category is active the display mode "Static Block Only" will not be allowed to be used
  * Sales: made online operations and notifications updating "online" totals, instead of totals mixed with online/offline sales documents. Removed updating "base_amount_canceled" total update when voided payment (this was backwards compatibility violation)

== Bugfixes ==
  * Fixed #19449: Google Base
  * Fixed #19207: Unable to upload more than 200 products into GoogleBase
  * Fixed #19756: Email Copy of Invoice is not working for the PayPal Express Payment method (removed that option, it is obsolete)
  * Fixed #19755: Unnecessary information for the customer in the e-mail after placing order through PayPal Direct
  * Fixed #19747: Wrong region id for integer region value in customer address
  * Fixed #17793: Google Base Special Price not mapped to Price
  * Fixed #19726: Old cache manage page allowed after mass-update of attributes for products
  * Fixed #19283: The fields 'Store View' and 'Status' are absent on the form after Widget Insertion window was closed. Fixed the same bug for 'Insert image' button
  * Fixed #19400: Price rules don't use value of attribute on the Website(store), it uses default value of attribute
    * implemented 'any-value-validate' logic for Catalog Rules
    * common methods moved to parent (Mage_CatalogRule_Model_Rule_Condition_Product) class
  * Fixed #19381: The message 'Attribute with the same code already exists' appears after click on Save & Continue then Save button
  * Fixed #19297: 'Please select a customer' appears after consecutive double clicks on the 'Submit order' in back-end
  * Fixed #14915: Invoice payment capture _needToAddDummy bug
  * Fixed #19283: The fields 'Store View' and 'Status' are absent on the form after Widget Insertion window was closed.
  * Fixed #19650: paypal system configuration fixes:
  * Fixed #19496: Position Behavior (Related Products) checkbox does not stay checked
  * Fixed #18594: Rename button "Refund" to "Refund Offline" on Credit Memo page for order
  * Fixed #19499: USPS First Class International and USPS Express Mail International stopped working
  * Fixed datetime grid renderer to make it use getters (see parent class)
  * Fixed #19448: Incorrect handling of empty attributes under PHP 5.2.0
  * Fixed #18726: Last ordered items is broken after various operations with websites and products
  * Fixed #19519: Terms and Conditions: field 'Checkbox text' may be displayed not only as text
  * Fixed #18384: admin setting for session lifetime has no influence on session.gc_maxlifetime
  * Fixed #19513: Possible to add gift message for Downloadable Product
  * Fixed #18570: gift messages disappears from order when creating invoice
  * Fixed #19512: /index.php/checkout/onepage/getAddress/address/ allows everyone logged in to get all addresses
  * Fixed #19414: Creating orders with downloadable product have incorrect shipping rates
  * Fixed #19290: Changing 'My Account' info may destroy log in when password is blank
  * Fixed #19133: Options of the products are invisible during PayPal Express Checkout + fixed up and simplified decoration of the cart line items table
  * Fixed #19363: Clean compiled JS/CSS when updating base url configuration settings
  * Fixed #16499: Require customer login for reviews not working 100% 
  * Fixed #18284: Discount for Shopping Cart Price Rule does not apply on Multiple Addresses
  * Fixed #19265: Message about adding product to shopping cart (from wishlist) contains repeating name of one product
  * Fixed #11412: Rounding error in tax and shipping calculation
  * Fixed #17506: Taxes: different prices in catalog and shopping cart.
  * Fixed #17807: Session customer ID is not validated in some places when attempting to write it into database
  * Fixed #17720: core_flag primary key is a smallint and has a max value of 65535
  * Fixed #19347: XSS vulnerabilities in admin
    * added escape flag for appropriate datagrid columns
    * added htmlEscape-ing for appropriate templates
    * added forced escaping for value attribute and content of <option> tag in grid filter, html select block and at library level for Select and Multiselect form elements
  * Fixed #15065: wrong order status after credit memo refund
 * Made "Paypal" section per store view (style settings are per store view)

== Known Issues ==
  * Upgrade from any known non-stable version requires database repairing by Database Repair Tool




==== 1.7.0.0-rc1 ====

Includes all changes from 1.4.0.0-beta1 and 1.4.0.0-rc1, plus:

Improvements:
  * Added Reward Points functionality
  * Added Full Page Caching functionality
  * Added ability to assign Customer Segments to multiple websites
  * Partially redesigned CMS Hierarchy functionality:
    * Simplified navigation menu building, added ability to put menu into layout columns
    * Added Chapter/Section meta-links functionality
  * implemented "Has State/Province" in customer address segment condition
  * Implemented admin actions log entry details
  * Implemented Hierarchy admin management page locking
  * Implemented combined customer segment report (and export)
  * Simplified Enterprise customization of design theme in admin area. It is enough just to override skin


Changes:
  * Removed enterprise/blank theme
  * pagination block implemented as abstract, now not specific to hierarchy


Bugfixes:
  * Fixed - related products were not showing up on bundle product view page
  * Fixed #17976: Slow page loads due to category loops
  * Fixed date filter in Admin Actions Log archive grid
  * Fixed #19185: Unlimited refunds to customer's store credit by adding comment to Creadit Memo
  * Reviewed logic of applying Gift Card and Store Credit during checkout (adjustment for Reward Points)
  * Fixed: #18651: Gift Cards are shared between websites
  * Banner Module: fixed ambiguous 'banner_id' error
  * Fixed #16433 In the Staging Log for "Unscheduled Merger" Action, a link should be added to the respective Scheduled Merger in the Details
  * Added system message upon attempt to resend discarded, accepted and sent invitations
  * Various fixes of missed admin actions logging
  * Various fixes of missed admin GWS-limitations
  * Fixed Gift Card prices display in RSS feeds
  * Made Gift Card totals display everywhere before Store Credit totals
  * Removed ability to use decimal quantity for gift card products
  * Fixed: in some cases it is possible to save giftcard product without price
  * Fixed: Website restrictions are not shown in store view scope


Plan for the stable release (including plans from 1.4.0.0-rc1):
  * Reward Points bonus as an action in shopping cart price rules
  * Reward Points order bonus calculation triggers in wrong circumstances and bases on total paid (incl shipping/tax). Expected: to be triggered only after last available invoice is submitted, and not including tax/shipping charges
  * Admin Action Log entry details lacks proper CSS




==== 1.6.0.0 ====

New key features:
  * CMS WYSIWYG Editor an Image Uploader
  * CMS Widgets Management
  * CMS Page Versioning
  * CMS Page Hierarchy and Navigation    
  * Rule-Based merchandising for cross-sells, upsells and related items
  * Marketing Personalization Zones (banners) integrated with promotion rules 
  * Customer Segmentation with reports, customer export, shopping cart price rules and banners integration

Changes
  * included all stable changes/fixes from CE 1.4 (including robust indexing and new taxes)
  * php_mhash usage was removed, as well as removed from official requirements list
  * customer balance and gift card accounts work as regular total models introduced in 1.4
  * refactored staging module logging and event handling
  * refactored admin actions log module - improved configuration structure, introduced processor observer model
  * various minor admin UI improvements
  * various improvements to enterprise frontend theme style  
  * no more CE themes in the package (they were not supported in EE)  

Known issues:
  * upgrade from 1.6.0.0-rc1 requires fixing database structure with RepairDb tool 
  * no page lock when managing hierarchy
  * when previewing CMS page content using "Preview" button from admin, all controls (polls, newsletter subscription, search etc) on the page do not work
  * WYSIWYG editor causes performance leak in Firefox browser with Firebug extension enabled
  
